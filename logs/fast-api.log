2025-12-13 20:35:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-13 20:35:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-13 20:35:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '0049538a-6c7f-4724-8c4d-b2f0cf108d43'}
2025-12-13 20:35:17 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 20:35:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations/0049538a-6c7f-4724-8c4d-b2f0cf108d43/messages "HTTP/1.1 201 Created"
2025-12-13 20:35:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/conversations/0049538a-6c7f-4724-8c4d-b2f0cf108d43/messages "HTTP/1.1 200 OK"
2025-12-13 20:35:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/certificates "HTTP/1.1 201 Created"
2025-12-13 20:35:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/certificates "HTTP/1.1 200 OK"
2025-12-13 20:35:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/cultural-dictionary "HTTP/1.1 201 Created"
2025-12-13 20:35:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/cultural-dictionary?q=Maj "HTTP/1.1 200 OK"
2025-12-13 20:35:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:43 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: name 'Badge' is not defined
2025-12-13 20:35:43 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-13 20:35:43 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 20:35:43 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 20:35:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 20:35:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/2 "HTTP/1.1 200 OK"
2025-12-13 20:35:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:35:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:35:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:35:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:35:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_audio_post, Metadata: {'post_id': 1}
2025-12-13 20:36:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:35 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 20:36:35 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 20:36:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-13 20:36:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:37 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-13 20:36:37 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 20:36:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-13 20:36:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-13 20:36:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 20:36:48 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 20:36:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-13 20:36:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-13 20:36:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:36:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:36:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:36:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:36:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 20:37:00 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 20:37:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-13 20:37:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 20:37:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 20:37:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:26 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 20:37:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-13 20:37:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-13 20:37:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-13 20:37:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 20:37:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 20:37:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 20:37:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 20:37:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:29 | ERROR    | app.oauth2:get_current_user:182 | JWT Error: Signature has expired.
2025-12-13 22:19:29 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: (psycopg2.OperationalError) server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\core\database\__init__.py", line 62, in get_db
    yield db
GeneratorExit

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1127, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 699, in do_rollback
    dbapi_connection.rollback()
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\base.py", line 189, in __call__
    with collapse_excgroups():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_utils.py", line 93, in collapse_excgroups
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\app\core\middleware\ip_ban.py", line 29, in ip_ban_middleware
    db_gen.close()
  File "C:\Users\kglou\Desktop\fastapi\app\core\database\__init__.py", line 64, in get_db
    db.close()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2518, in close
    self._close_impl(invalidate=False)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2587, in _close_impl
    transaction.close(invalidate)
  File "<string>", line 2, in close
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1419, in close
    transaction.close()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2588, in close
    self._do_close()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2726, in _do_close
    self._close_impl()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2712, in _close_impl
    self._connection_rollback_impl()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2704, in _connection_rollback_impl
    self.connection._rollback_impl()
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1129, in _rollback_impl
    self._handle_dbapi_exception(e, None, None, None, None)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1127, in _rollback_impl
    self.engine.dialect.do_rollback(self.connection)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 699, in do_rollback
    dbapi_connection.rollback()
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-13 22:19:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:19:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:19:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:19:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-13 22:19:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:19:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 401 Unauthorized"
2025-12-13 22:19:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:19:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:19:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:19:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:19:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:19:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:19:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:19:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:19:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:19:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:19:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:20:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:20:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:11 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-13 22:20:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:20:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:20:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-13 22:20:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-13 22:20:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-13 22:20:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ok "HTTP/1.1 403 Forbidden"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/greet "HTTP/1.1 200 OK"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 200 OK"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 429 Too Many Requests"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ping "HTTP/1.1 200 OK"
2025-12-13 22:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/err "HTTP/1.1 418 I'm a teapot"
2025-12-13 22:20:37 | INFO     | app.utils:log_admin_action:21 | Admin 1 action add_banned_word - metadata={'word': 'spam'}
2025-12-13 22:20:37 | INFO     | app.utils:log_admin_action:21 | Admin 1 action remove_banned_word - metadata={'word_id': 1}
2025-12-13 22:20:37 | ERROR    | app.modules.wellness.service:end_wellness_session:118 | Wellness session not found: 9999
2025-12-13 22:20:38 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-13 22:20:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: conn fail
2025-12-13 22:20:38 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-13 22:20:38 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-13 22:20:38 | INFO     | app.core.cache.redis_cache:invalidate_by_tag:233 | Invalidated cache by tag: t1
2025-12-13 22:20:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:44 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:20:44 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:20:44 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:20:44 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:20:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:20:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-13 22:20:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:20:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-13 22:20:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:20:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:20:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:20:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:20:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:21:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-13 22:21:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-13 22:21:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:21:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-13 22:21:09 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 1
2025-12-13 22:21:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:15 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:21:15 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:21:15 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:21:15 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:21:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:21:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:23 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:21:23 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:21:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-13 22:21:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-13 22:21:31 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:21:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-13 22:21:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-13 22:21:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:34 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-13 22:21:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-13 22:21:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:35 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:21:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-13 22:21:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/summary "HTTP/1.1 200 OK"
2025-12-13 22:21:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2 "HTTP/1.1 200 OK"
2025-12-13 22:21:49 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: send fail
2025-12-13 22:21:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:21:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:21:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:21:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:21:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:03 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-13 22:22:03 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-13 22:22:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:13 | ERROR    | app.notifications:wrapper:56 | Error in bad_fn: boom
2025-12-13 22:22:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:37 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: smtp down
2025-12-13 22:22:37 | ERROR    | app.notifications:wrapper:56 | Error in send_real_time_notification: ws down
2025-12-13 22:22:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:41 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:22:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:46 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:22:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:50 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:22:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:55 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:22:55 | ERROR    | app.notifications:create_notification:386 | Error creating notification: metadata too large
2025-12-13 22:22:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:22:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:22:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:22:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:22:59 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-13 22:22:59 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:23:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:04 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:23:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:08 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-13 22:23:08 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:23:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:13 | ERROR    | app.notifications:create_notification:386 | Error creating notification: '<=' not supported between instances of 'MagicMock' and 'datetime.time'
2025-12-13 22:23:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:17 | ERROR    | app.notifications:create_notification:386 | Error creating notification: (sqlite3.IntegrityError) NOT NULL constraint failed: notifications.content
[SQL: INSERT INTO notifications (user_id, content, link, notification_type, priority, category, is_read, is_archived, is_deleted, read_at, scheduled_for, expires_at, related_id, notification_metadata, group_id, updated_at, status, retry_count, last_retry, notification_version, importance_level, seen_at, interaction_count, custom_data, notification_channel, failure_reason, batch_id, priority_level, expiration_date, delivery_tracking, retry_strategy, max_retries, current_retry_count, last_retry_timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at]
[parameters: (1, None, None, 'invalid', 'MEDIUM', 'SYSTEM', 0, 0, 0, None, None, None, None, '{}', None, None, 'PENDING', 0, None, 1, 1, None, 0, '{}', 'in_app', None, None, 1, None, '{}', None, 3, 0, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-13 22:23:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:40 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:23:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:45 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:23:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:23:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:23:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:23:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:23:58 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:24:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:21 | WARNING  | app.notifications:fake_email:557 | No email found for user 1
2025-12-13 22:24:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:25 | INFO     | app.notifications:fake_push:583 | No active devices for user 1
2025-12-13 22:24:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:30 | ERROR    | app.notifications:_send_realtime_notification:256 | Error sending realtime notification: ws down
2025-12-13 22:24:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:24:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:24:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:24:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:24:57 | INFO     | app.notifications:no_devices:191 | No active devices for user 1
2025-12-13 22:25:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:06 | WARNING  | app.notifications:warn_email:244 | No email found for user 1
2025-12-13 22:25:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:38 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-13T19:25:38.817557+00:00'}
2025-12-13 22:25:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:43 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-13T19:25:43.182797+00:00'}
2025-12-13 22:25:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:47 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-13T19:25:47.811725+00:00'}
2025-12-13 22:25:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:52 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-13T19:25:52.440088+00:00'}
2025-12-13 22:25:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:25:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:25:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:25:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:25:57 | WARNING  | app.notifications:deliver_notification:83 | No delivery channels enabled for user 1
2025-12-13 22:25:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:01 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fatal', 'timestamp': '2025-12-13T19:26:01.539129+00:00'}
2025-12-13 22:26:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:05 | INFO     | app.notifications:_send_email_notification:198 | Email sent to hello123@gmail.com
2025-12-13 22:26:05 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'commit fail', 'timestamp': '2025-12-13T19:26:05.950911+00:00'}
2025-12-13 22:26:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:10 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-13T19:26:10.200539+00:00'}
2025-12-13 22:26:10 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: Recipient e-mail address is required.
2025-12-13 22:26:10 | INFO     | app.notifications:send_email_notification:87 | Mail credentials are not configured; skipping send for recipients ['user@example.com']
2025-12-13 22:26:10 | INFO     | app.notifications:send_email_notification:94 | Email notification sent successfully
2025-12-13 22:26:10 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp down
2025-12-13 22:26:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:15 | INFO     | app.notifications:schedule_email_notification_by_id:101 | Scheduled email notification 1 to be sent in 0 seconds.
2025-12-13 22:26:15 | INFO     | app.notifications:task:124 | Scheduled email notification 1 delivered.
2025-12-13 22:26:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:29 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-13 22:26:29 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: boom
2025-12-13 22:26:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:33 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db down
2025-12-13 22:26:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:26:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:26:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:26:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:26:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:01 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-13 22:27:01 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-13 22:27:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:05 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=42
2025-12-13 22:27:05 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=99: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-13 22:27:05 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-13 22:27:05 | INFO     | app.notifications:connect:25 | WebSocket connected for user 2
2025-12-13 22:27:05 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 2: fail
2025-12-13 22:27:05 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 7
2025-12-13 22:27:05 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 8
2025-12-13 22:27:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:10 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-13T19:27:10.266089+00:00'}
2025-12-13 22:27:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:15 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-13T19:27:15.310246+00:00'}
2025-12-13 22:27:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:33 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-13T19:27:33.227924+00:00'}
2025-12-13 22:27:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:37 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-13T19:27:37.440274+00:00'}
2025-12-13 22:27:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:27:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:27:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:27:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:27:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:04 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-13 22:28:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:14 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-13 22:28:14 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db fail
2025-12-13 22:28:14 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-13 22:28:14 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-13 22:28:14 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-13 22:28:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:18 | INFO     | app.notifications:deliver_scheduled_notification:921 | Scheduled notification 1 delivered
2025-12-13 22:28:19 | ERROR    | app.notifications:deliver_scheduled_notification:918 | Scheduled notification 9999 not found
2025-12-13 22:28:19 | INFO     | app.notifications:send_bulk_notifications:946 | Bulk notifications: 1 successful of 2
2025-12-13 22:28:19 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 5
2025-12-13 22:28:19 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 6
2025-12-13 22:28:19 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=1: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-13 22:28:19 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=2
2025-12-13 22:28:19 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=3: ws crash
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 22, in websocket_endpoint
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_notifications_tasks_and_ws.py", line 30, in receive_text
    raise value
RuntimeError: ws crash
2025-12-13 22:28:19 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=4: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-13 22:28:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:43 | ERROR    | app.notifications:process_scheduled_notifications_task:63 | Failed to enqueue scheduled notification 1: queue fail
2025-12-13 22:28:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:52 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-13 22:28:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:28:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:28:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:28:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:28:56 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-13 22:28:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:02 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:29:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:29:02 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:29:02 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:29:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:29:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-13 22:29:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-13 22:29:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:25 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-13 22:29:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-13 22:29:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:29:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-13 22:29:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-13 22:29:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:29:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:29:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:29:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:29:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-13 22:30:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-13 22:30:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-13 22:30:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:18 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:30:18 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:30:18 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:30:18 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:30:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:30:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:24 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:30:24 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:30:24 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:30:24 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:30:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:30:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-13 22:30:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-13 22:30:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:48 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-13 22:30:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-13 22:30:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:30:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:30:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:30:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:30:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-13 22:30:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-13 22:31:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-13 22:31:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-13 22:31:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-13 22:31:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-13 22:31:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-13 22:31:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/export "HTTP/1.1 200 OK"
2025-12-13 22:31:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:31:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me "HTTP/1.1 204 No Content"
2025-12-13 22:31:53 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-13 22:31:53 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-13 22:31:53 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: socket closed
2025-12-13 22:31:53 | INFO     | app.notifications:connect:25 | WebSocket connected for user 5
2025-12-13 22:31:53 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 5
2025-12-13 22:31:53 | INFO     | app.firebase_config:initialize_firebase:41 | Firebase initialized successfully
2025-12-13 22:31:54 | ERROR    | app.firebase_config:initialize_firebase:44 | Failed to initialize Firebase: bad
2025-12-13 22:31:54 | ERROR    | app.firebase_config:send_multicast_notification:72 | Error sending multicast notification: fail
2025-12-13 22:31:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:31:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:31:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:31:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/ "HTTP/1.1 201 Created"
2025-12-13 22:32:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/reels/active?community_id=1 "HTTP/1.1 200 OK"
2025-12-13 22:32:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/reels/1 "HTTP/1.1 200 OK"
2025-12-13 22:32:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/1/view "HTTP/1.1 200 OK"
2025-12-13 22:32:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-13 22:32:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-13 22:32:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-13 22:32:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-13 22:32:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:49 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-13 22:32:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:32:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:32:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:32:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:32:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:32:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:33:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:33:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:33:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:33:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:33:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:33:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:33:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-13 22:33:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-13 22:33:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-13 22:33:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-13 22:33:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-13 22:33:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/twitter/callback "HTTP/1.1 401 Unauthorized"
2025-12-13 22:33:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:39 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/upload_file/
2025-12-13 22:33:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/upload_file/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:33:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:47 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/audio
2025-12-13 22:33:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/audio "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:33:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:33:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:53 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /notifications/
2025-12-13 22:33:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/?category=invalid "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:33:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:33:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:33:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:33:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:06 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense down
2025-12-13 22:34:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2&mark_read=true "HTTP/1.1 200 OK"
2025-12-13 22:34:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/notifications/mark-all-read "HTTP/1.1 200 OK"
2025-12-13 22:34:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:34:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:34:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:34:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-13 22:34:45 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense error
2025-12-13 22:34:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:34:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:34:53 | ERROR    | app.core.error_handlers:app_exception_handler:73 | AppException: teapot - short and stout
2025-12-13 22:34:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/boom "HTTP/1.1 418 I'm a teapot"
2025-12-13 22:34:53 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /validate
2025-12-13 22:34:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/validate "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:34:53 | WARNING  | app.core.error_handlers:rate_limit_handler:136 | Rate limit exceeded for testclient
2025-12-13 22:34:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ratelimit "HTTP/1.1 429 Too Many Requests"
2025-12-13 22:34:54 | ERROR    | app.core.error_handlers:sqlalchemy_exception_handler:156 | Database error: db is down
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 66, in dberr
    raise SQLAlchemyError("db is down")
sqlalchemy.exc.SQLAlchemyError: db is down
2025-12-13 22:34:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/dberr "HTTP/1.1 500 Internal Server Error"
2025-12-13 22:34:54 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: explode
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 70, in general
    raise RuntimeError("explode")
RuntimeError: explode
2025-12-13 22:34:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/general "HTTP/1.1 500 Internal Server Error"
2025-12-13 22:36:14 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-13 22:36:16 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-13 22:36:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:36:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 307 Temporary Redirect"
2025-12-13 22:36:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/livez "HTTP/1.1 200 OK"
2025-12-13 22:36:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 307 Temporary Redirect"
2025-12-13 22:36:22 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:36:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-13 22:36:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 307 Temporary Redirect"
2025-12-13 22:36:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://evil.com/ "HTTP/1.1 400 Bad Request"
2025-12-13 22:36:29 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:30 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:36:32 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:38 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-13 22:36:43 | INFO     | app.routers.amenhotep:get_chat_history:154 | Retrieved chat history for user 1
2025-12-13 22:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 200 OK"
2025-12-13 22:36:43 | INFO     | app.routers.amenhotep:clear_chat_history:184 | Cleared chat history for user 1
2025-12-13 22:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/amenhotep/clear-history/1 "HTTP/1.1 200 OK"
2025-12-13 22:36:44 | ERROR    | app.routers.amenhotep:get_chat_history:157 | Error retrieving chat history for user 1: 403:        
2025-12-13 22:36:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 500 Internal Server Error"
2025-12-13 22:36:45 | ERROR    | app.firebase_config:send_push_notification:163 | Error sending push notification: send failure
2025-12-13 22:36:45 | ERROR    | app.firebase_config:unsubscribe_from_topic:136 | Error unsubscribing from topic: bad request
2025-12-13 22:36:45 | ERROR    | app.modules.media.processing:speech_to_text:36 | Speech recognition API error: api down
2025-12-13 22:36:45 | ERROR    | app.utils:wrapper:66 | Unhandled exception in utility function: failing
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\modules\utils\security.py", line 62, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session6_media_utils.py", line 157, in failing
    raise RuntimeError("boom")
RuntimeError: boom
2025-12-13 22:36:47 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-13 22:36:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:36:52 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 1}
2025-12-13 22:36:52 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 2}
2025-12-13 22:36:55 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-13 22:36:55 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-13 22:36:59 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/ "HTTP/1.1 200 OK"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/1 "HTTP/1.1 200 OK"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/unfollow/1 "HTTP/1.1 200 OK"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 403 Forbidden"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 201 Created"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/categories/1 "HTTP/1.1 200 OK"
2025-12-13 22:37:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/categories/1 "HTTP/1.1 204 No Content"
2025-12-13 22:37:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/vote-analytics "HTTP/1.1 200 OK"
2025-12-13 22:37:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 200 OK"
2025-12-13 22:37:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 403 Forbidden"
2025-12-13 22:37:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-13 22:37:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-13 22:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 403 Forbidden"
2025-12-13 22:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 201 Created"
2025-12-13 22:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/sessions/1 "HTTP/1.1 200 OK"
2025-12-13 22:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 404 Not Found"
2025-12-13 22:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/login/facebook "HTTP/1.1 200 OK"
2025-12-13 22:37:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 200 OK"
2025-12-13 22:37:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 401 Unauthorized"
2025-12-13 22:37:08 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-13 22:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-13 22:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-13 22:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/calls/active "HTTP/1.1 200 OK"
2025-12-13 22:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 401 Unauthorized"
2025-12-13 22:37:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: connect fail
2025-12-13 22:37:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-13 22:37:12 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-13 22:37:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-13 22:37:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-13 22:37:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:37:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 404 Not Found"
2025-12-13 22:37:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:24 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-13 22:37:24 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-13 22:37:24 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-13 22:37:24 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-13 22:37:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-13 22:37:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reactions/ "HTTP/1.1 201 Created"
2025-12-13 22:37:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-13 22:37:31 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:37:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-13 22:37:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/profile/1/media "HTTP/1.1 200 OK"
2025-12-13 22:37:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-13 22:37:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-13 22:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-13 22:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me/identities/2 "HTTP/1.1 204 No Content"
2025-12-13 22:37:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-13 22:37:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-13 22:37:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:51 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-13 22:37:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-13 22:37:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:37:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:37:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:37:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:37:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:38:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:38:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:38:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-13 22:38:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/1 "HTTP/1.1 200 OK"
2025-12-13 22:38:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/99999 "HTTP/1.1 404 Not Found"
2025-12-13 22:38:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 200 OK"
2025-12-13 22:38:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 400 Bad Request"
2025-12-13 22:38:21 | ERROR    | app.modules.utils.content:safe_analyze:213 | safe_analyze_failed: no model
2025-12-13 22:38:21 | ERROR    | app.modules.utils.content:antivirus_scan:225 | antivirus_scan_failed: scanner down
2025-12-13 22:38:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:38:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:38:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 200 OK"
2025-12-13 22:38:26 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-13 22:38:26 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-13 22:38:26 | WARNING  | app.utils:parse_json_response:73 | non_json_response
2025-12-13 22:38:27 | ERROR    | app.utils:with_retry:89 | network_error
2025-12-13 22:38:27 | ERROR    | app.utils:safe_request:103 | network_request_failed
2025-12-13 22:38:28 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-13 22:38:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:32 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:38:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-13 22:38:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:37 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:38:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-13 22:38:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:41 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:38:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-13 22:38:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 404 Not Found"
2025-12-13 22:38:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 401 Unauthorized"
2025-12-13 22:38:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:53 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-13 22:38:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:38:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:38:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:38:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:38:57 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-13 22:38:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-13 22:39:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:39:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:39:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:39:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:39:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:39:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-13 22:39:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-13 22:39:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-13 22:39:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:39:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:39:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-13 22:39:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-13 22:39:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-13 22:39:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 11:46:22 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 11:46:23 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 11:46:27 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 11:46:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:46:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 11:46:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 11:46:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 11:46:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 11:46:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 11:46:30 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 11:46:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:46:30 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 11:46:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 11:46:51 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 11:46:51 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 11:47:30 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 11:47:31 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 11:47:33 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 11:47:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:47:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 11:47:35 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T08:47:35.417314+00:00'}
2025-12-14 11:48:03 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 11:48:04 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 11:48:06 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 11:48:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:48:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 11:48:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 11:48:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 11:48:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 11:48:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 11:48:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 11:48:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:48:09 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 11:48:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 11:48:09 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 11:48:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 11:48:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 11:48:10 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T08:48:10.099838+00:00'}
2025-12-14 12:13:23 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:13:24 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:15 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:16 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:16 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 12:14:16 | ERROR    | app.analytics:log_analysis_event:55 | analytics.failure
2025-12-14 12:14:16 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 12:14:16 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:17 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:17 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/languages "HTTP/1.1 200 OK"
2025-12-14 12:14:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 12:14:17 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:17 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:17 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:18 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:18 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:19 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:19 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 12:14:19 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:20 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:20 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 12:14:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 12:14:20 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:21 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:21 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/ "HTTP/1.1 404 Not Found"
2025-12-14 12:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/uploads/ "HTTP/1.1 404 Not Found"
2025-12-14 12:14:21 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:21 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:21 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:14:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/hello.txt "HTTP/1.1 200 OK"
2025-12-14 12:14:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/missing.txt "HTTP/1.1 404 Not Found"
2025-12-14 12:14:22 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:23 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:23 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 12:14:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:14:23 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:23 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 12:14:23 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:24 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:14:24 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:25 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 12:14:25 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:14:26 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:14:26 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): ping fail
2025-12-14 12:14:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:14:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 12:14:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:14:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:34 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 12:14:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:14:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:14:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:14:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:14:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:54 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 12:14:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 12:14:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:14:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 12:14:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:14:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:14:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/moderator/community/1/reports "HTTP/1.1 403 Forbidden"
2025-12-14 12:15:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:07 | INFO     | app.utils:log_event:14 | Block event block_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 12:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 201 Created"
2025-12-14 12:15:07 | INFO     | app.utils:log_event:14 | Block event manual_unblock_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 12:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/block/2 "HTTP/1.1 204 No Content"
2025-12-14 12:15:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 400 Bad Request"
2025-12-14 12:15:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/warn/2 "HTTP/1.1 200 OK"
2025-12-14 12:15:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/ban/2 "HTTP/1.1 200 OK"
2025-12-14 12:15:13 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 12:15:13 | ERROR    | app.core.cache.redis_cache:set_with_tags:221 | Cache set_with_tags error for key k1: 'FakeRedis' object has no attribute 'pipeline'
2025-12-14 12:15:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:16 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 12:15:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 12:15:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 12:15:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 12:15:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 12:15:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 12:15:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects "HTTP/1.1 200 OK"
2025-12-14 12:15:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects/1/contributions "HTTP/1.1 201 Created"
2025-12-14 12:15:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1 "HTTP/1.1 200 OK"
2025-12-14 12:15:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1/contributions "HTTP/1.1 200 OK"
2025-12-14 12:15:33 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 12:15:33 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:37 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:37 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:15:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:39 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:39 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:15:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities/ "HTTP/1.1 200 OK"
2025-12-14 12:15:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:43 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:43 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:15:43 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:15:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:43 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 12:15:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:15:43 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 12:15:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:46 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:46 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:15:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:15:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:47 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 12:15:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:15:47 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 12:15:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 400 Bad Request"
2025-12-14 12:15:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:15:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:50 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 403 Forbidden"
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 201 Created"
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: update_community, Metadata: {'community_id': 1}
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 2}
2025-12-14 12:15:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:15:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:15:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:15:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:15:58 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:15:58 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:15:58 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 12:15:58 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:15:59 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:15:59 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:15:59 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:15:59 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 12:15:59 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:16:00 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:16:00 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:16:00 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:16:00 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 12:16:00 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 12:16:01 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 12:16:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:04 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 12:16:06 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:16:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:11 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:16:12 | INFO     | app.core.cache.redis_cache:invalidate:147 | Invalidated cache pattern: a:*
2025-12-14 12:16:12 | ERROR    | app.core.cache.redis_cache:get:104 | Cache get error for key bad: Expecting value: line 1 column 1 (char 0)
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 12:16:12 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 12:16:12 | ERROR    | app.core.config.settings:_read_key_file:312 | Private key file not found: C:\Users\kglou\AppData\Local\Temp\pytest-of-kglou\pytest-329\test_settings_missing_keys_rai0\missing_priv.pem
2025-12-14 12:16:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 12:16:17 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:16:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:19 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 12:16:22 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 12:16:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:16:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:16:24 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 12:16:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 12:16:24 | WARNING  | app.core.scheduling.tasks:startup_event:127 | Firebase initialization failed - push notifications will be disabled
2025-12-14 12:16:25 | ERROR    | app.core.scheduling.tasks:cleanup_expired_reels_task:207 | Failed to cleanup expired reels: boom
2025-12-14 12:16:25 | ERROR    | app.core.scheduling.tasks:update_search_suggestions_task:155 | Failed to update search suggestions: search boom
2025-12-14 12:16:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:16:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:16:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:34 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 12:16:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:16:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:16:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:16:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:39 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 12:16:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:16:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:16:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:16:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:16:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:16:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:16:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 12:16:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 12:16:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:16:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:16:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 12:17:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 12:17:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 12:17:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 12:17:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 400 Bad Request"
2025-12-14 12:17:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:26 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 12:17:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:17:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?limit=2&skip=1 "HTTP/1.1 200 OK"
2025-12-14 12:17:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?search=first "HTTP/1.1 200 OK"
2025-12-14 12:17:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/submit "HTTP/1.1 200 OK"
2025-12-14 12:17:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/verify/1 "HTTP/1.1 200 OK"
2025-12-14 12:17:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/vote/1 "HTTP/1.1 200 OK"
2025-12-14 12:17:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/correct/1 "HTTP/1.1 200 OK"
2025-12-14 12:17:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts/1 "HTTP/1.1 200 OK"
2025-12-14 12:17:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts?status=verified "HTTP/1.1 200 OK"
2025-12-14 12:17:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/search?q=sky "HTTP/1.1 200 OK"
2025-12-14 12:17:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:17:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:17:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:17:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:17:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/wellness/metrics "HTTP/1.1 200 OK"
2025-12-14 12:17:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/goals "HTTP/1.1 200 OK"
2025-12-14 12:18:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/do-not-disturb "HTTP/1.1 200 OK"
2025-12-14 12:18:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/mental-health-mode "HTTP/1.1 200 OK"
2025-12-14 12:18:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:25 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:18:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 12:18:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:30 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:18:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 12:18:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/test_file.txt "HTTP/1.1 200 OK"
2025-12-14 12:18:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 404 Not Found"
2025-12-14 12:18:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 12:18:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:18:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:18:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:18:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:18:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:31:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 12:31:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:31:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:31:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:31:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:31:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:31:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 200 OK"
2025-12-14 12:31:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:31:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:31:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 12:31:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:31:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:31:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:31:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 12:32:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:32:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 12:32:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 12:32:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:32:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 12:32:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 204 No Content"
2025-12-14 12:32:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 400 Bad Request"
2025-12-14 12:32:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:21 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 12:32:21 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:32:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 12:32:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 400 Bad Request"
2025-12-14 12:32:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 404 Not Found"
2025-12-14 12:32:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 12:32:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:40 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/0
2025-12-14 12:32:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/0 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:32:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:45 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/-1
2025-12-14 12:32:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/-1 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:32:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 12:32:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:32:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:32:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:32:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:32:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 12:33:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 12:33:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:06 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '169acbc0-3365-44ee-9987-b557b7647eb1'}
2025-12-14 12:33:06 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:33:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations/169acbc0-3365-44ee-9987-b557b7647eb1/messages "HTTP/1.1 201 Created"
2025-12-14 12:33:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/conversations/169acbc0-3365-44ee-9987-b557b7647eb1/messages "HTTP/1.1 200 OK"
2025-12-14 12:33:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/certificates "HTTP/1.1 201 Created"
2025-12-14 12:33:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/certificates "HTTP/1.1 200 OK"
2025-12-14 12:33:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/cultural-dictionary "HTTP/1.1 201 Created"
2025-12-14 12:33:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/cultural-dictionary?q=Maj "HTTP/1.1 200 OK"
2025-12-14 12:33:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:25 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: name 'Badge' is not defined
2025-12-14 12:33:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 12:33:25 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:33:25 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:33:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:33:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/2 "HTTP/1.1 200 OK"
2025-12-14 12:33:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:33:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:33:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_audio_post, Metadata: {'post_id': 1}
2025-12-14 12:33:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:33:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:33:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 12:34:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:34:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 12:34:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-14 12:34:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:34:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 12:34:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-14 12:34:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 12:34:12 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:34:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 12:34:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 12:34:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:20 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 12:34:20 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:34:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 12:34:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:34:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:34:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:39 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:34:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 12:34:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 12:34:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:34:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 12:34:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:34:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:34:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:34:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:35:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:35:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:35:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:35:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:48:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 12:48:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:48:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:48:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:48:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:48:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:48:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-14 12:49:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 401 Unauthorized"
2025-12-14 12:49:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:49:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:49:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:49:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:23 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-14 12:49:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:49:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 12:49:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-14 12:49:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-14 12:49:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-14 12:49:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ok "HTTP/1.1 403 Forbidden"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/greet "HTTP/1.1 200 OK"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 200 OK"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 429 Too Many Requests"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ping "HTTP/1.1 200 OK"
2025-12-14 12:49:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/err "HTTP/1.1 418 I'm a teapot"
2025-12-14 12:49:45 | INFO     | app.utils:log_admin_action:21 | Admin 1 action add_banned_word - metadata={'word': 'spam'}
2025-12-14 12:49:45 | INFO     | app.utils:log_admin_action:21 | Admin 1 action remove_banned_word - metadata={'word_id': 1}
2025-12-14 12:49:46 | ERROR    | app.modules.wellness.service:end_wellness_session:118 | Wellness session not found: 9999
2025-12-14 12:49:46 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 12:49:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: conn fail
2025-12-14 12:49:46 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 12:49:46 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 12:49:46 | INFO     | app.core.cache.redis_cache:invalidate_by_tag:233 | Invalidated cache by tag: t1
2025-12-14 12:49:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:51 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 12:49:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 12:49:51 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:49:51 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:49:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:49:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:49:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:49:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:49:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:49:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 12:49:58 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:49:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 12:50:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:50:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 12:50:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 12:50:12 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:50:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 12:50:12 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 1
2025-12-14 12:50:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:17 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 12:50:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 12:50:17 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:50:17 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:50:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:50:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:23 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 12:50:23 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 12:50:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 12:50:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:32 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 12:50:32 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:50:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 12:50:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:33 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:50:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:33 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 12:50:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:50:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:35 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 12:50:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 12:50:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/summary "HTTP/1.1 200 OK"
2025-12-14 12:50:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2 "HTTP/1.1 200 OK"
2025-12-14 12:50:46 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: send fail
2025-12-14 12:50:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:50:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:50:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:50:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:50:58 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 12:50:58 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 12:51:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:06 | ERROR    | app.notifications:wrapper:56 | Error in bad_fn: boom
2025-12-14 12:51:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:26 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: smtp down
2025-12-14 12:51:26 | ERROR    | app.notifications:wrapper:56 | Error in send_real_time_notification: ws down
2025-12-14 12:51:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:29 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:33 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:37 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:41 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:41 | ERROR    | app.notifications:create_notification:386 | Error creating notification: metadata too large
2025-12-14 12:51:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:45 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 12:51:45 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:49 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:52 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 12:51:52 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:51:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:51:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:51:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:51:56 | ERROR    | app.notifications:create_notification:386 | Error creating notification: '<=' not supported between instances of 'MagicMock' and 'datetime.time'
2025-12-14 12:51:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:51:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:00 | ERROR    | app.notifications:create_notification:386 | Error creating notification: (sqlite3.IntegrityError) NOT NULL constraint failed: notifications.content
[SQL: INSERT INTO notifications (user_id, content, link, notification_type, priority, category, is_read, is_archived, is_deleted, read_at, scheduled_for, expires_at, related_id, notification_metadata, group_id, updated_at, status, retry_count, last_retry, notification_version, importance_level, seen_at, interaction_count, custom_data, notification_channel, failure_reason, batch_id, priority_level, expiration_date, delivery_tracking, retry_strategy, max_retries, current_retry_count, last_retry_timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at]
[parameters: (1, None, None, 'invalid', 'MEDIUM', 'SYSTEM', 0, 0, 0, None, None, None, None, '{}', None, None, 'PENDING', 0, None, 1, 1, None, 0, '{}', 'in_app', None, None, 1, None, '{}', None, 3, 0, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-14 12:52:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:19 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:52:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:23 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:52:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:35 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:52:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:54 | WARNING  | app.notifications:fake_email:557 | No email found for user 1
2025-12-14 12:52:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:52:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:52:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:52:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:52:58 | INFO     | app.notifications:fake_push:583 | No active devices for user 1
2025-12-14 12:53:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:02 | ERROR    | app.notifications:_send_realtime_notification:256 | Error sending realtime notification: ws down
2025-12-14 12:53:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:25 | INFO     | app.notifications:no_devices:191 | No active devices for user 1
2025-12-14 12:53:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:33 | WARNING  | app.notifications:warn_email:244 | No email found for user 1
2025-12-14 12:53:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:53:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:53:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:53:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:53:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:00 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T09:54:00.334374+00:00'}
2025-12-14 12:54:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:04 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T09:54:04.128717+00:00'}
2025-12-14 12:54:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:08 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T09:54:08.233124+00:00'}
2025-12-14 12:54:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:12 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T09:54:12.215167+00:00'}
2025-12-14 12:54:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:15 | WARNING  | app.notifications:deliver_notification:83 | No delivery channels enabled for user 1
2025-12-14 12:54:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:19 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fatal', 'timestamp': '2025-12-14T09:54:19.793170+00:00'}
2025-12-14 12:54:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:23 | INFO     | app.notifications:_send_email_notification:198 | Email sent to hello123@gmail.com
2025-12-14 12:54:23 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'commit fail', 'timestamp': '2025-12-14T09:54:23.685686+00:00'}
2025-12-14 12:54:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:27 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T09:54:27.577820+00:00'}
2025-12-14 12:54:27 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: Recipient e-mail address is required.
2025-12-14 12:54:27 | INFO     | app.notifications:send_email_notification:87 | Mail credentials are not configured; skipping send for recipients ['user@example.com']
2025-12-14 12:54:27 | INFO     | app.notifications:send_email_notification:94 | Email notification sent successfully
2025-12-14 12:54:27 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp down
2025-12-14 12:54:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:31 | INFO     | app.notifications:schedule_email_notification_by_id:101 | Scheduled email notification 1 to be sent in 0 seconds.
2025-12-14 12:54:31 | INFO     | app.notifications:task:124 | Scheduled email notification 1 delivered.
2025-12-14 12:54:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:43 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 12:54:43 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: boom
2025-12-14 12:54:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:46 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db down
2025-12-14 12:54:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:54:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:54:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:54:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:54:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:09 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 12:55:09 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 12:55:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:13 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=42
2025-12-14 12:55:13 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=99: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 12:55:13 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 12:55:13 | INFO     | app.notifications:connect:25 | WebSocket connected for user 2
2025-12-14 12:55:13 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 2: fail
2025-12-14 12:55:13 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 7
2025-12-14 12:55:13 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 8
2025-12-14 12:55:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:17 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T09:55:17.757428+00:00'}
2025-12-14 12:55:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:21 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T09:55:21.485627+00:00'}
2025-12-14 12:55:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:37 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T09:55:37.209116+00:00'}
2025-12-14 12:55:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:41 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T09:55:41.010780+00:00'}
2025-12-14 12:55:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:55:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:55:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:55:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:55:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:03 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 12:56:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:11 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-14 12:56:11 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db fail
2025-12-14 12:56:11 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-14 12:56:11 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 12:56:11 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-14 12:56:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:15 | INFO     | app.notifications:deliver_scheduled_notification:921 | Scheduled notification 1 delivered
2025-12-14 12:56:15 | ERROR    | app.notifications:deliver_scheduled_notification:918 | Scheduled notification 9999 not found
2025-12-14 12:56:15 | INFO     | app.notifications:send_bulk_notifications:946 | Bulk notifications: 1 successful of 2
2025-12-14 12:56:15 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 5
2025-12-14 12:56:16 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 6
2025-12-14 12:56:16 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=1: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 12:56:16 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=2
2025-12-14 12:56:16 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=3: ws crash
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 22, in websocket_endpoint
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_notifications_tasks_and_ws.py", line 30, in receive_text
    raise value
RuntimeError: ws crash
2025-12-14 12:56:16 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=4: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 12:56:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:35 | ERROR    | app.notifications:process_scheduled_notifications_task:63 | Failed to enqueue scheduled notification 1: queue fail
2025-12-14 12:56:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:43 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 12:56:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:46 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 12:56:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:51 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 12:56:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 12:56:51 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:56:51 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:56:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:56:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:56:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:56:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:56:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:56:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-14 12:57:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 12:57:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:13 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 12:57:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 12:57:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 12:57:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-14 12:57:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 12:57:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-14 12:57:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 12:57:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 12:57:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:57:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:57:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:57:58 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 12:57:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 12:57:58 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:57:58 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:57:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:57:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:58:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:03 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 12:58:03 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 12:58:03 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 12:58:03 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 12:58:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 12:58:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 12:58:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 12:58:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:23 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-14 12:58:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-14 12:58:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 12:58:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 12:58:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 12:58:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 12:58:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:58:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:58:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:58:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:58:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 12:59:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 12:59:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 12:59:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/export "HTTP/1.1 200 OK"
2025-12-14 12:59:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me "HTTP/1.1 204 No Content"
2025-12-14 12:59:19 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 12:59:19 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 12:59:19 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: socket closed
2025-12-14 12:59:19 | INFO     | app.notifications:connect:25 | WebSocket connected for user 5
2025-12-14 12:59:19 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 5
2025-12-14 12:59:19 | INFO     | app.firebase_config:initialize_firebase:41 | Firebase initialized successfully
2025-12-14 12:59:19 | ERROR    | app.firebase_config:initialize_firebase:44 | Failed to initialize Firebase: bad
2025-12-14 12:59:19 | ERROR    | app.firebase_config:send_multicast_notification:72 | Error sending multicast notification: fail
2025-12-14 12:59:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/ "HTTP/1.1 201 Created"
2025-12-14 12:59:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/reels/active?community_id=1 "HTTP/1.1 200 OK"
2025-12-14 12:59:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/reels/1 "HTTP/1.1 200 OK"
2025-12-14 12:59:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/1/view "HTTP/1.1 200 OK"
2025-12-14 12:59:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 12:59:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 12:59:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 12:59:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 12:59:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 12:59:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 12:59:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 13:00:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 13:00:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:08 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 13:00:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:00:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:00:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:00:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:00:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:00:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:00:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:00:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:00:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 13:00:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 13:00:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:00:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 13:00:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:43 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:00:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:43 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 13:00:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 13:00:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/twitter/callback "HTTP/1.1 401 Unauthorized"
2025-12-14 13:00:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:52 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/upload_file/
2025-12-14 13:00:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/upload_file/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:00:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:00:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:00:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:00:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:00:59 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/audio
2025-12-14 13:00:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/audio "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:01:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:05 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /notifications/
2025-12-14 13:01:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/?category=invalid "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:01:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:16 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense down
2025-12-14 13:01:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2&mark_read=true "HTTP/1.1 200 OK"
2025-12-14 13:01:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/notifications/mark-all-read "HTTP/1.1 200 OK"
2025-12-14 13:01:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:01:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:01:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:01:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:01:50 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense error
2025-12-14 13:01:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:01:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:01:53 | ERROR    | app.core.error_handlers:app_exception_handler:73 | AppException: teapot - short and stout
2025-12-14 13:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/boom "HTTP/1.1 418 I'm a teapot"
2025-12-14 13:01:53 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /validate
2025-12-14 13:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/validate "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:01:53 | WARNING  | app.core.error_handlers:rate_limit_handler:136 | Rate limit exceeded for testclient
2025-12-14 13:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ratelimit "HTTP/1.1 429 Too Many Requests"
2025-12-14 13:01:53 | ERROR    | app.core.error_handlers:sqlalchemy_exception_handler:156 | Database error: db is down
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 66, in dberr
    raise SQLAlchemyError("db is down")
sqlalchemy.exc.SQLAlchemyError: db is down
2025-12-14 13:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/dberr "HTTP/1.1 500 Internal Server Error"
2025-12-14 13:01:53 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: explode
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 70, in general
    raise RuntimeError("explode")
RuntimeError: explode
2025-12-14 13:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/general "HTTP/1.1 500 Internal Server Error"
2025-12-14 13:02:50 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:02:51 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:02:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:02:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:02:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/livez "HTTP/1.1 200 OK"
2025-12-14 13:02:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:02:56 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:02:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:02:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:02:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://evil.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 13:03:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:03:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:03:07 | INFO     | app.routers.amenhotep:get_chat_history:154 | Retrieved chat history for user 1
2025-12-14 13:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:07 | INFO     | app.routers.amenhotep:clear_chat_history:184 | Cleared chat history for user 1
2025-12-14 13:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/amenhotep/clear-history/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:07 | ERROR    | app.routers.amenhotep:get_chat_history:157 | Error retrieving chat history for user 1: 403:        
2025-12-14 13:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 500 Internal Server Error"
2025-12-14 13:03:07 | ERROR    | app.firebase_config:send_push_notification:163 | Error sending push notification: send failure
2025-12-14 13:03:07 | ERROR    | app.firebase_config:unsubscribe_from_topic:136 | Error unsubscribing from topic: bad request
2025-12-14 13:03:08 | ERROR    | app.modules.media.processing:speech_to_text:36 | Speech recognition API error: api down
2025-12-14 13:03:08 | ERROR    | app.utils:wrapper:66 | Unhandled exception in utility function: failing
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\modules\utils\security.py", line 62, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session6_media_utils.py", line 157, in failing
    raise RuntimeError("boom")
RuntimeError: boom
2025-12-14 13:03:09 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 13:03:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 13:03:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 1}
2025-12-14 13:03:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 2}
2025-12-14 13:03:12 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 13:03:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 13:03:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/ "HTTP/1.1 200 OK"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/unfollow/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 403 Forbidden"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 201 Created"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/categories/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/categories/1 "HTTP/1.1 204 No Content"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/vote-analytics "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 403 Forbidden"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 403 Forbidden"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 201 Created"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/sessions/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 404 Not Found"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/login/facebook "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 200 OK"
2025-12-14 13:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 401 Unauthorized"
2025-12-14 13:03:18 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 13:03:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 13:03:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 13:03:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/calls/active "HTTP/1.1 200 OK"
2025-12-14 13:03:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 401 Unauthorized"
2025-12-14 13:03:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: connect fail
2025-12-14 13:03:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 13:03:21 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 13:03:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:03:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 13:03:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:03:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 404 Not Found"
2025-12-14 13:03:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:31 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 13:03:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 13:03:31 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 13:03:31 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 13:03:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 13:03:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reactions/ "HTTP/1.1 201 Created"
2025-12-14 13:03:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:37 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 13:03:37 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:03:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 13:03:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/profile/1/media "HTTP/1.1 200 OK"
2025-12-14 13:03:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:03:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 13:03:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 13:03:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me/identities/2 "HTTP/1.1 204 No Content"
2025-12-14 13:03:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 13:03:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:52 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:03:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:52 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 13:03:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:03:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:03:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:03:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:03:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:03:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:04:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:04:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:04:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:04:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/1 "HTTP/1.1 200 OK"
2025-12-14 13:04:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/99999 "HTTP/1.1 404 Not Found"
2025-12-14 13:04:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 200 OK"
2025-12-14 13:04:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 400 Bad Request"
2025-12-14 13:04:16 | ERROR    | app.modules.utils.content:safe_analyze:213 | safe_analyze_failed: no model
2025-12-14 13:04:16 | ERROR    | app.modules.utils.content:antivirus_scan:225 | antivirus_scan_failed: scanner down
2025-12-14 13:04:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:04:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:04:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 200 OK"
2025-12-14 13:04:18 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 13:04:18 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 13:04:18 | WARNING  | app.utils:parse_json_response:73 | non_json_response
2025-12-14 13:04:18 | ERROR    | app.utils:with_retry:89 | network_error
2025-12-14 13:04:18 | ERROR    | app.utils:safe_request:103 | network_request_failed
2025-12-14 13:04:19 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-14 13:04:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:23 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:04:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 13:04:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:26 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:04:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 13:04:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:29 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:04:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 13:04:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 404 Not Found"
2025-12-14 13:04:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 401 Unauthorized"
2025-12-14 13:04:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:38 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 13:04:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:04:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:41 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 13:04:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:04:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:44 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:04:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 13:04:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:04:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:04:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:04:47 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:04:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 13:19:15 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:19:15 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:19:38 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:19:39 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:19:41 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:19:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:19:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:19:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 13:19:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 13:19:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:19:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 13:19:44 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:19:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:19:44 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 13:19:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 13:34:37 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:34:38 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:25 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:26 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:27 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 13:35:27 | ERROR    | app.analytics:log_analysis_event:55 | analytics.failure
2025-12-14 13:35:27 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 13:35:27 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:27 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:27 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/languages "HTTP/1.1 200 OK"
2025-12-14 13:35:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 13:35:28 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:28 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:28 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:29 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:29 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:30 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:30 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 13:35:30 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:31 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:31 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 13:35:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 13:35:31 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:32 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:32 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/ "HTTP/1.1 404 Not Found"
2025-12-14 13:35:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/uploads/ "HTTP/1.1 404 Not Found"
2025-12-14 13:35:32 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:33 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:33 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 13:35:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/hello.txt "HTTP/1.1 200 OK"
2025-12-14 13:35:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/missing.txt "HTTP/1.1 404 Not Found"
2025-12-14 13:35:33 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:34 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:34 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 13:35:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:35:34 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:34 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 13:35:34 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:35 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:35:35 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:36 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 13:35:36 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:35:37 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:35:37 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): ping fail
2025-12-14 13:35:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:35:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 13:35:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:45 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:35:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:45 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 13:35:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:35:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:35:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:35:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:35:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:35:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 13:36:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:36:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:36:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:05 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 13:36:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 13:36:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 13:36:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/moderator/community/1/reports "HTTP/1.1 403 Forbidden"
2025-12-14 13:36:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:19 | INFO     | app.utils:log_event:14 | Block event block_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 13:36:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 201 Created"
2025-12-14 13:36:19 | INFO     | app.utils:log_event:14 | Block event manual_unblock_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 13:36:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/block/2 "HTTP/1.1 204 No Content"
2025-12-14 13:36:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 400 Bad Request"
2025-12-14 13:36:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/warn/2 "HTTP/1.1 200 OK"
2025-12-14 13:36:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/ban/2 "HTTP/1.1 200 OK"
2025-12-14 13:36:25 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 13:36:25 | ERROR    | app.core.cache.redis_cache:set_with_tags:221 | Cache set_with_tags error for key k1: 'FakeRedis' object has no attribute 'pipeline'
2025-12-14 13:36:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:28 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 13:36:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 13:36:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 13:36:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 13:36:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 13:36:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 13:36:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects "HTTP/1.1 200 OK"
2025-12-14 13:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects/1/contributions "HTTP/1.1 201 Created"
2025-12-14 13:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1 "HTTP/1.1 200 OK"
2025-12-14 13:36:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1/contributions "HTTP/1.1 200 OK"
2025-12-14 13:36:44 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 13:36:44 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:36:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:36:47 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 13:36:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:36:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:36:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 13:36:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:36:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities/ "HTTP/1.1 200 OK"
2025-12-14 13:36:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:36:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:36:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 13:36:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:36:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:53 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 13:36:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:36:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 13:36:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:36:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:36:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:36:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:36:56 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 13:36:57 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:36:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:36:57 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 13:36:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:36:57 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:36:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 13:36:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 400 Bad Request"
2025-12-14 13:36:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 13:37:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:00 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 13:37:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 13:37:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:00 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 13:37:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 403 Forbidden"
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 201 Created"
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: update_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 2}
2025-12-14 13:37:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:37:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:09 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:09 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:09 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 13:37:09 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:37:10 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:37:10 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:10 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:10 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 13:37:10 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:37:11 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:37:11 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:11 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:11 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 13:37:11 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 13:37:12 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 13:37:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:14 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 13:37:17 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:37:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:21 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:37:23 | INFO     | app.core.cache.redis_cache:invalidate:147 | Invalidated cache pattern: a:*
2025-12-14 13:37:23 | ERROR    | app.core.cache.redis_cache:get:104 | Cache get error for key bad: Expecting value: line 1 column 1 (char 0)
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 13:37:23 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 13:37:23 | ERROR    | app.core.config.settings:_read_key_file:312 | Private key file not found: C:\Users\kglou\AppData\Local\Temp\pytest-of-kglou\pytest-330\test_settings_missing_keys_rai0\missing_priv.pem
2025-12-14 13:37:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 13:37:27 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:37:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:30 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 13:37:32 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 13:37:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:35 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 13:37:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 13:37:35 | WARNING  | app.core.scheduling.tasks:startup_event:127 | Firebase initialization failed - push notifications will be disabled
2025-12-14 13:37:35 | ERROR    | app.core.scheduling.tasks:cleanup_expired_reels_task:207 | Failed to cleanup expired reels: boom
2025-12-14 13:37:36 | ERROR    | app.core.scheduling.tasks:update_search_suggestions_task:155 | Failed to update search suggestions: search boom
2025-12-14 13:37:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:44 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 13:37:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:37:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:50 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 13:37:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:37:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:37:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:37:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:37:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:37:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:37:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 13:38:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 13:38:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 13:38:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 13:38:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 13:38:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 13:38:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 400 Bad Request"
2025-12-14 13:38:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:37 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 13:38:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:38:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?limit=2&skip=1 "HTTP/1.1 200 OK"
2025-12-14 13:38:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?search=first "HTTP/1.1 200 OK"
2025-12-14 13:38:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:38:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:38:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:38:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/submit "HTTP/1.1 200 OK"
2025-12-14 13:38:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/verify/1 "HTTP/1.1 200 OK"
2025-12-14 13:38:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:38:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/vote/1 "HTTP/1.1 200 OK"
2025-12-14 13:39:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/correct/1 "HTTP/1.1 200 OK"
2025-12-14 13:39:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts/1 "HTTP/1.1 200 OK"
2025-12-14 13:39:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts?status=verified "HTTP/1.1 200 OK"
2025-12-14 13:39:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/search?q=sky "HTTP/1.1 200 OK"
2025-12-14 13:39:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/wellness/metrics "HTTP/1.1 200 OK"
2025-12-14 13:39:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/goals "HTTP/1.1 200 OK"
2025-12-14 13:39:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/do-not-disturb "HTTP/1.1 200 OK"
2025-12-14 13:39:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/mental-health-mode "HTTP/1.1 200 OK"
2025-12-14 13:39:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:35 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:39:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 13:39:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:40 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:39:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 13:39:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/test_file.txt "HTTP/1.1 200 OK"
2025-12-14 13:39:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 404 Not Found"
2025-12-14 13:39:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 13:39:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:39:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:39:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:39:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:39:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 13:52:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:52:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:52:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 200 OK"
2025-12-14 13:52:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:52:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 13:52:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:52:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:52:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:52:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 13:52:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:52:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 13:52:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:52:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:52:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:52:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 13:52:56 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:52:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 13:52:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:52:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:52:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 204 No Content"
2025-12-14 13:53:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 400 Bad Request"
2025-12-14 13:53:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:10 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 13:53:10 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:53:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 13:53:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 400 Bad Request"
2025-12-14 13:53:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 404 Not Found"
2025-12-14 13:53:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 13:53:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:28 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/0
2025-12-14 13:53:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/0 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:53:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:34 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/-1
2025-12-14 13:53:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/-1 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:53:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 13:53:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 13:53:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:53:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 13:53:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '26785490-51c2-44dc-bc2c-d28e43de1d60'}
2025-12-14 13:53:54 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:53:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:53:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations/26785490-51c2-44dc-bc2c-d28e43de1d60/messages "HTTP/1.1 201 Created"
2025-12-14 13:53:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/conversations/26785490-51c2-44dc-bc2c-d28e43de1d60/messages "HTTP/1.1 200 OK"
2025-12-14 13:53:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:53:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:53:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/certificates "HTTP/1.1 201 Created"
2025-12-14 13:54:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/certificates "HTTP/1.1 200 OK"
2025-12-14 13:54:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/cultural-dictionary "HTTP/1.1 201 Created"
2025-12-14 13:54:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/cultural-dictionary?q=Maj "HTTP/1.1 200 OK"
2025-12-14 13:54:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:13 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: name 'Badge' is not defined
2025-12-14 13:54:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 13:54:13 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 13:54:13 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 13:54:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 13:54:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/2 "HTTP/1.1 200 OK"
2025-12-14 13:54:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:44 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_audio_post, Metadata: {'post_id': 1}
2025-12-14 13:54:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:54:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:54:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 13:54:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-14 13:54:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 13:54:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 13:54:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-14 13:54:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:54:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:54:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:54:59 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:54:59 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:54:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:54:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 13:55:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 13:55:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 13:55:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:55:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 13:55:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:55:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 13:55:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:27 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 13:55:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 13:55:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 13:55:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 13:55:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 13:55:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 13:55:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 13:55:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 13:55:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 14:08:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-14 14:08:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 401 Unauthorized"
2025-12-14 14:08:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:08:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:08:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:08:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:41 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-14 14:08:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:08:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:08:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:08:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:08:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:08:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-14 14:08:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-14 14:08:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:08:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-14 14:08:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ok "HTTP/1.1 403 Forbidden"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/greet "HTTP/1.1 200 OK"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 200 OK"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 429 Too Many Requests"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ping "HTTP/1.1 200 OK"
2025-12-14 14:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/err "HTTP/1.1 418 I'm a teapot"
2025-12-14 14:09:04 | INFO     | app.utils:log_admin_action:21 | Admin 1 action add_banned_word - metadata={'word': 'spam'}
2025-12-14 14:09:04 | INFO     | app.utils:log_admin_action:21 | Admin 1 action remove_banned_word - metadata={'word_id': 1}
2025-12-14 14:09:04 | ERROR    | app.modules.wellness.service:end_wellness_session:118 | Wellness session not found: 9999
2025-12-14 14:09:05 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 14:09:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: conn fail
2025-12-14 14:09:05 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 14:09:05 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 14:09:05 | INFO     | app.core.cache.redis_cache:invalidate_by_tag:233 | Invalidated cache by tag: t1
2025-12-14 14:09:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:10 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:09:10 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:09:10 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:09:10 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:09:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:09:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 14:09:17 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:09:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 14:09:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:24 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:09:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 14:09:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 14:09:31 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:09:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 14:09:31 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 1
2025-12-14 14:09:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:37 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:09:37 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:09:37 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:09:37 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:09:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:09:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:44 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:09:44 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:09:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 14:09:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 14:09:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:09:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 14:09:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 14:09:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:53 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 14:09:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 14:09:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:54 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:09:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 14:09:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:09:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:09:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:09:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:09:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/summary "HTTP/1.1 200 OK"
2025-12-14 14:10:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2 "HTTP/1.1 200 OK"
2025-12-14 14:10:06 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: send fail
2025-12-14 14:10:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:18 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 14:10:18 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 14:10:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:26 | ERROR    | app.notifications:wrapper:56 | Error in bad_fn: boom
2025-12-14 14:10:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:45 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: smtp down
2025-12-14 14:10:45 | ERROR    | app.notifications:wrapper:56 | Error in send_real_time_notification: ws down
2025-12-14 14:10:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:49 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:10:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:53 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:10:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:10:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:10:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:10:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:10:57 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:10:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:01 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:01 | ERROR    | app.notifications:create_notification:386 | Error creating notification: metadata too large
2025-12-14 14:11:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:05 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 14:11:05 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:09 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:12 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 14:11:12 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:16 | ERROR    | app.notifications:create_notification:386 | Error creating notification: '<=' not supported between instances of 'MagicMock' and 'datetime.time'
2025-12-14 14:11:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:20 | ERROR    | app.notifications:create_notification:386 | Error creating notification: (sqlite3.IntegrityError) NOT NULL constraint failed: notifications.content
[SQL: INSERT INTO notifications (user_id, content, link, notification_type, priority, category, is_read, is_archived, is_deleted, read_at, scheduled_for, expires_at, related_id, notification_metadata, group_id, updated_at, status, retry_count, last_retry, notification_version, importance_level, seen_at, interaction_count, custom_data, notification_channel, failure_reason, batch_id, priority_level, expiration_date, delivery_tracking, retry_strategy, max_retries, current_retry_count, last_retry_timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at]
[parameters: (1, None, None, 'invalid', 'MEDIUM', 'SYSTEM', 0, 0, 0, None, None, None, None, '{}', None, None, 'PENDING', 0, None, 1, 1, None, 0, '{}', 'in_app', None, None, 1, None, '{}', None, 3, 0, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-14 14:11:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:40 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:43 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:11:55 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:11:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:11:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:11:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:11:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:14 | WARNING  | app.notifications:fake_email:557 | No email found for user 1
2025-12-14 14:12:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:18 | INFO     | app.notifications:fake_push:583 | No active devices for user 1
2025-12-14 14:12:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:22 | ERROR    | app.notifications:_send_realtime_notification:256 | Error sending realtime notification: ws down
2025-12-14 14:12:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:45 | INFO     | app.notifications:no_devices:191 | No active devices for user 1
2025-12-14 14:12:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:53 | WARNING  | app.notifications:warn_email:244 | No email found for user 1
2025-12-14 14:12:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:12:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:12:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:12:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:12:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:20 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T11:13:20.597608+00:00'}
2025-12-14 14:13:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:24 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T11:13:24.410373+00:00'}
2025-12-14 14:13:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:28 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T11:13:28.347763+00:00'}
2025-12-14 14:13:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:32 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T11:13:32.063770+00:00'}
2025-12-14 14:13:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:35 | WARNING  | app.notifications:deliver_notification:83 | No delivery channels enabled for user 1
2025-12-14 14:13:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:39 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fatal', 'timestamp': '2025-12-14T11:13:39.709335+00:00'}
2025-12-14 14:13:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:43 | INFO     | app.notifications:_send_email_notification:198 | Email sent to hello123@gmail.com
2025-12-14 14:13:43 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'commit fail', 'timestamp': '2025-12-14T11:13:43.521886+00:00'}
2025-12-14 14:13:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:47 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T11:13:47.494229+00:00'}
2025-12-14 14:13:47 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: Recipient e-mail address is required.
2025-12-14 14:13:47 | INFO     | app.notifications:send_email_notification:87 | Mail credentials are not configured; skipping send for recipients ['user@example.com']
2025-12-14 14:13:47 | INFO     | app.notifications:send_email_notification:94 | Email notification sent successfully
2025-12-14 14:13:47 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp down
2025-12-14 14:13:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:51 | INFO     | app.notifications:schedule_email_notification_by_id:101 | Scheduled email notification 1 to be sent in 0 seconds.
2025-12-14 14:13:51 | INFO     | app.notifications:task:124 | Scheduled email notification 1 delivered.
2025-12-14 14:13:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:13:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:13:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:13:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:13:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:03 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 14:14:03 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: boom
2025-12-14 14:14:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:06 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db down
2025-12-14 14:14:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:29 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 14:14:30 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 14:14:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:34 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=42
2025-12-14 14:14:34 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=99: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 14:14:34 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 14:14:34 | INFO     | app.notifications:connect:25 | WebSocket connected for user 2
2025-12-14 14:14:34 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 2: fail
2025-12-14 14:14:34 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 7
2025-12-14 14:14:34 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 8
2025-12-14 14:14:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:38 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T11:14:38.502234+00:00'}
2025-12-14 14:14:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:42 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T11:14:42.279188+00:00'}
2025-12-14 14:14:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:14:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:14:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:14:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:14:58 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T11:14:58.444419+00:00'}
2025-12-14 14:15:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:02 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T11:15:02.221068+00:00'}
2025-12-14 14:15:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:24 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 14:15:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:32 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-14 14:15:32 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db fail
2025-12-14 14:15:32 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-14 14:15:33 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 14:15:33 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-14 14:15:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:36 | INFO     | app.notifications:deliver_scheduled_notification:921 | Scheduled notification 1 delivered
2025-12-14 14:15:36 | ERROR    | app.notifications:deliver_scheduled_notification:918 | Scheduled notification 9999 not found
2025-12-14 14:15:36 | INFO     | app.notifications:send_bulk_notifications:946 | Bulk notifications: 1 successful of 2
2025-12-14 14:15:36 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 5
2025-12-14 14:15:37 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 6
2025-12-14 14:15:37 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=1: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 14:15:37 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=2
2025-12-14 14:15:37 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=3: ws crash
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 22, in websocket_endpoint
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_notifications_tasks_and_ws.py", line 30, in receive_text
    raise value
RuntimeError: ws crash
2025-12-14 14:15:37 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=4: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 14:15:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:15:56 | ERROR    | app.notifications:process_scheduled_notifications_task:63 | Failed to enqueue scheduled notification 1: queue fail
2025-12-14 14:15:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:15:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:15:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:15:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:03 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 14:16:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:07 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 14:16:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:12 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:16:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:16:12 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:16:12 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:16:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:16:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-14 14:16:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:34 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 14:16:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:34 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 14:16:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 14:16:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:16:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-14 14:16:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 14:16:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:16:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:16:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:16:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:16:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-14 14:17:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 14:17:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 14:17:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:20 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:17:20 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:17:20 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:17:20 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:17:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:17:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:25 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:17:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:17:25 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:17:25 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:17:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:17:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 14:17:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 14:17:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:46 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-14 14:17:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-14 14:17:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 14:17:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:17:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:17:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:17:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:17:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 14:18:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 14:18:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 14:18:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 14:18:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 14:18:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 14:18:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/export "HTTP/1.1 200 OK"
2025-12-14 14:18:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me "HTTP/1.1 204 No Content"
2025-12-14 14:18:42 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 14:18:42 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 14:18:42 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: socket closed
2025-12-14 14:18:42 | INFO     | app.notifications:connect:25 | WebSocket connected for user 5
2025-12-14 14:18:42 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 5
2025-12-14 14:18:42 | INFO     | app.firebase_config:initialize_firebase:41 | Firebase initialized successfully
2025-12-14 14:18:42 | ERROR    | app.firebase_config:initialize_firebase:44 | Failed to initialize Firebase: bad
2025-12-14 14:18:42 | ERROR    | app.firebase_config:send_multicast_notification:72 | Error sending multicast notification: fail
2025-12-14 14:18:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/ "HTTP/1.1 201 Created"
2025-12-14 14:18:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/reels/active?community_id=1 "HTTP/1.1 200 OK"
2025-12-14 14:18:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:18:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:18:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:18:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:18:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/reels/1 "HTTP/1.1 200 OK"
2025-12-14 14:19:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/1/view "HTTP/1.1 200 OK"
2025-12-14 14:19:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 14:19:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 14:19:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 14:19:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 14:19:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:30 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 14:19:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:19:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:19:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:19:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:19:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:19:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:19:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:19:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:19:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:19:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:19:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:19:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:19:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 14:20:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 14:20:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 14:20:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 14:20:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 14:20:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:05 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 14:20:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 14:20:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/twitter/callback "HTTP/1.1 401 Unauthorized"
2025-12-14 14:20:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:14 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/upload_file/
2025-12-14 14:20:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/upload_file/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:20:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:20 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/audio
2025-12-14 14:20:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/audio "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:20:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:26 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /notifications/
2025-12-14 14:20:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/?category=invalid "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:20:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:20:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:37 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense down
2025-12-14 14:20:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:20:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:20:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:20:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2&mark_read=true "HTTP/1.1 200 OK"
2025-12-14 14:20:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/notifications/mark-all-read "HTTP/1.1 200 OK"
2025-12-14 14:20:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:20:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:20:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:20:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:20:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:21:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:21:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:21:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:21:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:21:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:21:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:21:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:21:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:21:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:21:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:21:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:21:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:21:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 14:21:10 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense error
2025-12-14 14:21:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:21:13 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:21:13 | ERROR    | app.core.error_handlers:app_exception_handler:73 | AppException: teapot - short and stout
2025-12-14 14:21:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/boom "HTTP/1.1 418 I'm a teapot"
2025-12-14 14:21:13 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /validate
2025-12-14 14:21:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/validate "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:21:13 | WARNING  | app.core.error_handlers:rate_limit_handler:136 | Rate limit exceeded for testclient
2025-12-14 14:21:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ratelimit "HTTP/1.1 429 Too Many Requests"
2025-12-14 14:21:13 | ERROR    | app.core.error_handlers:sqlalchemy_exception_handler:156 | Database error: db is down
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 66, in dberr
    raise SQLAlchemyError("db is down")
sqlalchemy.exc.SQLAlchemyError: db is down
2025-12-14 14:21:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/dberr "HTTP/1.1 500 Internal Server Error"
2025-12-14 14:21:13 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: explode
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 70, in general
    raise RuntimeError("explode")
RuntimeError: explode
2025-12-14 14:21:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/general "HTTP/1.1 500 Internal Server Error"
2025-12-14 14:22:09 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 14:22:10 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 14:22:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 307 Temporary Redirect"
2025-12-14 14:22:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/livez "HTTP/1.1 200 OK"
2025-12-14 14:22:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 307 Temporary Redirect"
2025-12-14 14:22:16 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 14:22:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 307 Temporary Redirect"
2025-12-14 14:22:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://evil.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 14:22:19 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:20 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:22:21 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:22 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:22 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:22 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:24 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 14:22:27 | INFO     | app.routers.amenhotep:get_chat_history:154 | Retrieved chat history for user 1
2025-12-14 14:22:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:27 | INFO     | app.routers.amenhotep:clear_chat_history:184 | Cleared chat history for user 1
2025-12-14 14:22:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/amenhotep/clear-history/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:27 | ERROR    | app.routers.amenhotep:get_chat_history:157 | Error retrieving chat history for user 1: 403:        
2025-12-14 14:22:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 500 Internal Server Error"
2025-12-14 14:22:27 | ERROR    | app.firebase_config:send_push_notification:163 | Error sending push notification: send failure
2025-12-14 14:22:27 | ERROR    | app.firebase_config:unsubscribe_from_topic:136 | Error unsubscribing from topic: bad request
2025-12-14 14:22:27 | ERROR    | app.modules.media.processing:speech_to_text:36 | Speech recognition API error: api down
2025-12-14 14:22:27 | ERROR    | app.utils:wrapper:66 | Unhandled exception in utility function: failing
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\modules\utils\security.py", line 62, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session6_media_utils.py", line 157, in failing
    raise RuntimeError("boom")
RuntimeError: boom
2025-12-14 14:22:29 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 14:22:29 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:22:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 1}
2025-12-14 14:22:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 2}
2025-12-14 14:22:32 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 14:22:32 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 14:22:34 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/ "HTTP/1.1 200 OK"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/unfollow/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 403 Forbidden"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 201 Created"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/categories/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/categories/1 "HTTP/1.1 204 No Content"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/vote-analytics "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 403 Forbidden"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 403 Forbidden"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 201 Created"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/sessions/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 404 Not Found"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/login/facebook "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 200 OK"
2025-12-14 14:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 401 Unauthorized"
2025-12-14 14:22:38 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 14:22:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 14:22:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 14:22:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/calls/active "HTTP/1.1 200 OK"
2025-12-14 14:22:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 401 Unauthorized"
2025-12-14 14:22:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: connect fail
2025-12-14 14:22:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 14:22:42 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 14:22:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 14:22:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 14:22:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:22:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:22:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:22:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 404 Not Found"
2025-12-14 14:22:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:22:52 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 14:22:52 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 14:22:52 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 14:22:52 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 14:22:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 14:22:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:22:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reactions/ "HTTP/1.1 201 Created"
2025-12-14 14:22:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:22:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:22:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 14:22:58 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:22:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:22:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 14:23:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/profile/1/media "HTTP/1.1 200 OK"
2025-12-14 14:23:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 14:23:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me/identities/2 "HTTP/1.1 204 No Content"
2025-12-14 14:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 14:23:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 14:23:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:13 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 14:23:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 14:23:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:23:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:23:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:23:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:23:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 14:23:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/1 "HTTP/1.1 200 OK"
2025-12-14 14:23:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/99999 "HTTP/1.1 404 Not Found"
2025-12-14 14:23:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 200 OK"
2025-12-14 14:23:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 400 Bad Request"
2025-12-14 14:23:38 | ERROR    | app.modules.utils.content:safe_analyze:213 | safe_analyze_failed: no model
2025-12-14 14:23:38 | ERROR    | app.modules.utils.content:antivirus_scan:225 | antivirus_scan_failed: scanner down
2025-12-14 14:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 200 OK"
2025-12-14 14:23:40 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 14:23:40 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 14:23:40 | WARNING  | app.utils:parse_json_response:73 | non_json_response
2025-12-14 14:23:40 | ERROR    | app.utils:with_retry:89 | network_error
2025-12-14 14:23:40 | ERROR    | app.utils:safe_request:103 | network_request_failed
2025-12-14 14:23:41 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-14 14:23:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:44 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:23:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 14:23:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:48 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:23:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 14:23:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:51 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:23:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 14:23:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 404 Not Found"
2025-12-14 14:23:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:23:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 401 Unauthorized"
2025-12-14 14:23:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:23:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:23:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:00 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 14:24:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:24:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:24:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:03 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 14:24:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 14:24:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:24:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:06 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 14:24:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 14:24:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 14:24:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 14:24:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 14:24:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 14:24:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 15:00:31 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:00:33 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:21 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:22 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:22 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 15:01:22 | ERROR    | app.analytics:log_analysis_event:55 | analytics.failure
2025-12-14 15:01:22 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 15:01:22 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:24 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:24 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/languages "HTTP/1.1 200 OK"
2025-12-14 15:01:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 15:01:24 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:26 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:26 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:28 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:28 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:29 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:29 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 15:01:29 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:31 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:31 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 15:01:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 15:01:31 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:33 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:33 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/ "HTTP/1.1 404 Not Found"
2025-12-14 15:01:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/uploads/ "HTTP/1.1 404 Not Found"
2025-12-14 15:01:33 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:34 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:34 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:01:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/hello.txt "HTTP/1.1 200 OK"
2025-12-14 15:01:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/missing.txt "HTTP/1.1 404 Not Found"
2025-12-14 15:01:34 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:36 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:36 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 15:01:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:01:36 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:38 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 15:01:38 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:39 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:01:39 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:41 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 15:01:41 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:01:42 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:01:42 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): ping fail
2025-12-14 15:01:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:01:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 15:01:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:01:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:51 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:01:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:51 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 15:01:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:01:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:01:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:01:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:01:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:01:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:01:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:01:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:02:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:02:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:02:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:02:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:02:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:11 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 15:02:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 15:02:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 15:02:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/moderator/community/1/reports "HTTP/1.1 403 Forbidden"
2025-12-14 15:02:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:24 | INFO     | app.utils:log_event:14 | Block event block_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 15:02:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 201 Created"
2025-12-14 15:02:25 | INFO     | app.utils:log_event:14 | Block event manual_unblock_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 15:02:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/block/2 "HTTP/1.1 204 No Content"
2025-12-14 15:02:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 400 Bad Request"
2025-12-14 15:02:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/warn/2 "HTTP/1.1 200 OK"
2025-12-14 15:02:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/ban/2 "HTTP/1.1 200 OK"
2025-12-14 15:02:31 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 15:02:31 | ERROR    | app.core.cache.redis_cache:set_with_tags:221 | Cache set_with_tags error for key k1: 'FakeRedis' object has no attribute 'pipeline'
2025-12-14 15:02:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:34 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 15:02:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 15:02:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 15:02:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 15:02:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 15:02:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 15:02:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects "HTTP/1.1 200 OK"
2025-12-14 15:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects/1/contributions "HTTP/1.1 201 Created"
2025-12-14 15:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1 "HTTP/1.1 200 OK"
2025-12-14 15:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1/contributions "HTTP/1.1 200 OK"
2025-12-14 15:02:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 15:02:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:02:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:02:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:02:54 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:02:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:02:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:02:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:02:56 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:02:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:02:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:02:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities/ "HTTP/1.1 200 OK"
2025-12-14 15:02:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:02:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:02:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:02:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:03:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:00 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:03:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:03:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:00 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 15:03:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:03:00 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 15:03:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:03:03 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:03 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:03:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:03:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:04 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 15:03:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:03:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 15:03:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 400 Bad Request"
2025-12-14 15:03:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 15:03:07 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:07 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:03:07 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:03:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:07 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 403 Forbidden"
2025-12-14 15:03:07 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 201 Created"
2025-12-14 15:03:07 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:07 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: update_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:03:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:09 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 2}
2025-12-14 15:03:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:03:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:16 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:16 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:16 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 15:03:16 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:03:17 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:03:17 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:17 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:17 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 15:03:17 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:03:19 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:03:19 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:19 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:19 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 15:03:19 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 15:03:21 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 15:03:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:23 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 15:03:26 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:03:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:30 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:03:32 | INFO     | app.core.cache.redis_cache:invalidate:147 | Invalidated cache pattern: a:*
2025-12-14 15:03:32 | ERROR    | app.core.cache.redis_cache:get:104 | Cache get error for key bad: Expecting value: line 1 column 1 (char 0)
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 15:03:32 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 15:03:32 | ERROR    | app.core.config.settings:_read_key_file:312 | Private key file not found: C:\Users\kglou\AppData\Local\Temp\pytest-of-kglou\pytest-331\test_settings_missing_keys_rai0\missing_priv.pem
2025-12-14 15:03:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 15:03:36 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:03:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:39 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 15:03:41 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 15:03:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:44 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 15:03:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 15:03:44 | WARNING  | app.core.scheduling.tasks:startup_event:127 | Firebase initialization failed - push notifications will be disabled
2025-12-14 15:03:44 | ERROR    | app.core.scheduling.tasks:cleanup_expired_reels_task:207 | Failed to cleanup expired reels: boom
2025-12-14 15:03:45 | ERROR    | app.core.scheduling.tasks:update_search_suggestions_task:155 | Failed to update search suggestions: search boom
2025-12-14 15:03:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:03:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:03:53 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 15:03:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:03:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:03:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:03:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:03:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:03:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:03:58 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 15:03:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:04:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:04:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 15:04:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 15:04:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 15:04:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 15:04:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 15:04:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 15:04:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 400 Bad Request"
2025-12-14 15:04:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:45 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 15:04:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:04:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?limit=2&skip=1 "HTTP/1.1 200 OK"
2025-12-14 15:04:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:04:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:04:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:04:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:04:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?search=first "HTTP/1.1 200 OK"
2025-12-14 15:05:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/submit "HTTP/1.1 200 OK"
2025-12-14 15:05:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/verify/1 "HTTP/1.1 200 OK"
2025-12-14 15:05:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/vote/1 "HTTP/1.1 200 OK"
2025-12-14 15:05:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/correct/1 "HTTP/1.1 200 OK"
2025-12-14 15:05:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts/1 "HTTP/1.1 200 OK"
2025-12-14 15:05:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts?status=verified "HTTP/1.1 200 OK"
2025-12-14 15:05:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/search?q=sky "HTTP/1.1 200 OK"
2025-12-14 15:05:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/wellness/metrics "HTTP/1.1 200 OK"
2025-12-14 15:05:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/goals "HTTP/1.1 200 OK"
2025-12-14 15:05:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/do-not-disturb "HTTP/1.1 200 OK"
2025-12-14 15:05:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/mental-health-mode "HTTP/1.1 200 OK"
2025-12-14 15:05:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:42 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:05:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 15:05:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:47 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:05:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 15:05:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/test_file.txt "HTTP/1.1 200 OK"
2025-12-14 15:05:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 404 Not Found"
2025-12-14 15:05:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:05:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:05:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:05:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:05:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 15:06:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:06:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:06:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:06:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:06:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 15:22:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:22:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:22:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 200 OK"
2025-12-14 15:22:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:22:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 15:22:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:22:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:22:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:22:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 15:22:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:22:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 15:22:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:22:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:22:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:22:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 15:22:58 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:22:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 15:22:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:22:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:22:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 204 No Content"
2025-12-14 15:23:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 400 Bad Request"
2025-12-14 15:23:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 15:23:11 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:23:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 15:23:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 400 Bad Request"
2025-12-14 15:23:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 404 Not Found"
2025-12-14 15:23:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 15:23:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:29 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/0
2025-12-14 15:23:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/0 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:23:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:35 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/-1
2025-12-14 15:23:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/-1 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:23:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 15:23:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 15:23:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:23:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:23:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 15:23:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:55 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': 'b169020a-2c37-426a-9bdc-34f6177c4315'}
2025-12-14 15:23:55 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:23:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:23:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations/b169020a-2c37-426a-9bdc-34f6177c4315/messages "HTTP/1.1 201 Created"
2025-12-14 15:23:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:23:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/conversations/b169020a-2c37-426a-9bdc-34f6177c4315/messages "HTTP/1.1 200 OK"
2025-12-14 15:23:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/certificates "HTTP/1.1 201 Created"
2025-12-14 15:24:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/certificates "HTTP/1.1 200 OK"
2025-12-14 15:24:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/cultural-dictionary "HTTP/1.1 201 Created"
2025-12-14 15:24:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/cultural-dictionary?q=Maj "HTTP/1.1 200 OK"
2025-12-14 15:24:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:15 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: name 'Badge' is not defined
2025-12-14 15:24:15 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 15:24:15 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:24:15 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:24:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:24:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/2 "HTTP/1.1 200 OK"
2025-12-14 15:24:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:46 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_audio_post, Metadata: {'post_id': 1}
2025-12-14 15:24:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:24:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 15:24:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:24:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 15:24:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-14 15:24:54 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:24:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:24:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 15:24:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-14 15:24:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:24:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:24:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 15:25:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:25:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 15:25:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 15:25:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:10 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 15:25:10 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:25:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 15:25:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:25:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:25:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:30 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:25:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 15:25:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 15:25:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 15:25:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:25:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:25:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:25:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:25:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:47:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 15:47:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:47:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:47:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:47:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:47:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:47:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-14 15:48:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 401 Unauthorized"
2025-12-14 15:48:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:48:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:48:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:48:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:28 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-14 15:48:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:48:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 15:48:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-14 15:48:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-14 15:48:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-14 15:48:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:48:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:48:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:48:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ok "HTTP/1.1 403 Forbidden"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/greet "HTTP/1.1 200 OK"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 200 OK"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 429 Too Many Requests"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ping "HTTP/1.1 200 OK"
2025-12-14 15:48:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/err "HTTP/1.1 418 I'm a teapot"
2025-12-14 15:48:55 | INFO     | app.utils:log_admin_action:21 | Admin 1 action add_banned_word - metadata={'word': 'spam'}
2025-12-14 15:48:55 | INFO     | app.utils:log_admin_action:21 | Admin 1 action remove_banned_word - metadata={'word_id': 1}
2025-12-14 15:48:56 | ERROR    | app.modules.wellness.service:end_wellness_session:118 | Wellness session not found: 9999
2025-12-14 15:48:56 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 15:48:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: conn fail
2025-12-14 15:48:56 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 15:48:56 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 15:48:56 | INFO     | app.core.cache.redis_cache:invalidate_by_tag:233 | Invalidated cache by tag: t1
2025-12-14 15:48:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:02 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 15:49:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 15:49:02 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:49:02 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:49:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:49:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 15:49:11 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:49:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 15:49:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:19 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:49:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 15:49:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:27 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 15:49:27 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:49:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 15:49:27 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 1
2025-12-14 15:49:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:33 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 15:49:33 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 15:49:33 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:49:33 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:49:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:49:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:42 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 15:49:42 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 15:49:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 15:49:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 15:49:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:49:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 15:49:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:52 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:49:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:52 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 15:49:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:49:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 15:49:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 15:49:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:49:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:49:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:49:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:49:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/summary "HTTP/1.1 200 OK"
2025-12-14 15:50:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2 "HTTP/1.1 200 OK"
2025-12-14 15:50:09 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: send fail
2025-12-14 15:50:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:23 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 15:50:23 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 15:50:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:33 | ERROR    | app.notifications:wrapper:56 | Error in bad_fn: boom
2025-12-14 15:50:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:50:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:50:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:50:56 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: smtp down
2025-12-14 15:50:56 | ERROR    | app.notifications:wrapper:56 | Error in send_real_time_notification: ws down
2025-12-14 15:50:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:50:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:00 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:05 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:10 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:14 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:14 | ERROR    | app.notifications:create_notification:386 | Error creating notification: metadata too large
2025-12-14 15:51:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:19 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 15:51:19 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:23 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:28 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 15:51:28 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:51:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:32 | ERROR    | app.notifications:create_notification:386 | Error creating notification: '<=' not supported between instances of 'MagicMock' and 'datetime.time'
2025-12-14 15:51:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:37 | ERROR    | app.notifications:create_notification:386 | Error creating notification: (sqlite3.IntegrityError) NOT NULL constraint failed: notifications.content
[SQL: INSERT INTO notifications (user_id, content, link, notification_type, priority, category, is_read, is_archived, is_deleted, read_at, scheduled_for, expires_at, related_id, notification_metadata, group_id, updated_at, status, retry_count, last_retry, notification_version, importance_level, seen_at, interaction_count, custom_data, notification_channel, failure_reason, batch_id, priority_level, expiration_date, delivery_tracking, retry_strategy, max_retries, current_retry_count, last_retry_timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at]
[parameters: (1, None, None, 'invalid', 'MEDIUM', 'SYSTEM', 0, 0, 0, None, None, None, None, '{}', None, None, 'PENDING', 0, None, 1, 1, None, 0, '{}', 'in_app', None, None, 1, None, '{}', None, 3, 0, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-14 15:51:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:51:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:51:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:51:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:51:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:00 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:52:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:04 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:52:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:18 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:52:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:41 | WARNING  | app.notifications:fake_email:557 | No email found for user 1
2025-12-14 15:52:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:45 | INFO     | app.notifications:fake_push:583 | No active devices for user 1
2025-12-14 15:52:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:50 | ERROR    | app.notifications:_send_realtime_notification:256 | Error sending realtime notification: ws down
2025-12-14 15:52:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:52:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:52:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:52:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:52:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:17 | INFO     | app.notifications:no_devices:191 | No active devices for user 1
2025-12-14 15:53:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:26 | WARNING  | app.notifications:warn_email:244 | No email found for user 1
2025-12-14 15:53:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:53:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:53:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:53:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:53:58 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T12:53:58.658450+00:00'}
2025-12-14 15:54:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:02 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T12:54:02.981929+00:00'}
2025-12-14 15:54:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:07 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T12:54:07.520948+00:00'}
2025-12-14 15:54:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:12 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T12:54:12.397714+00:00'}
2025-12-14 15:54:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:16 | WARNING  | app.notifications:deliver_notification:83 | No delivery channels enabled for user 1
2025-12-14 15:54:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:20 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fatal', 'timestamp': '2025-12-14T12:54:20.990844+00:00'}
2025-12-14 15:54:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:25 | INFO     | app.notifications:_send_email_notification:198 | Email sent to hello123@gmail.com
2025-12-14 15:54:25 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'commit fail', 'timestamp': '2025-12-14T12:54:25.372579+00:00'}
2025-12-14 15:54:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:30 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T12:54:30.249894+00:00'}
2025-12-14 15:54:30 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: Recipient e-mail address is required.
2025-12-14 15:54:30 | INFO     | app.notifications:send_email_notification:87 | Mail credentials are not configured; skipping send for recipients ['user@example.com']
2025-12-14 15:54:30 | INFO     | app.notifications:send_email_notification:94 | Email notification sent successfully
2025-12-14 15:54:30 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp down
2025-12-14 15:54:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:35 | INFO     | app.notifications:schedule_email_notification_by_id:101 | Scheduled email notification 1 to be sent in 0 seconds.
2025-12-14 15:54:35 | INFO     | app.notifications:task:124 | Scheduled email notification 1 delivered.
2025-12-14 15:54:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:48 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 15:54:48 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: boom
2025-12-14 15:54:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:54:53 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db down
2025-12-14 15:54:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:54:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:54:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:54:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:21 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 15:55:21 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 15:55:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:25 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=42
2025-12-14 15:55:25 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=99: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 15:55:25 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 15:55:25 | INFO     | app.notifications:connect:25 | WebSocket connected for user 2
2025-12-14 15:55:25 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 2: fail
2025-12-14 15:55:25 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 7
2025-12-14 15:55:25 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 8
2025-12-14 15:55:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:30 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T12:55:30.235266+00:00'}
2025-12-14 15:55:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:35 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T12:55:35.072085+00:00'}
2025-12-14 15:55:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:53 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T12:55:53.096180+00:00'}
2025-12-14 15:55:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:55:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:55:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:55:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:55:57 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T12:55:57.305778+00:00'}
2025-12-14 15:56:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:24 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 15:56:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:34 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-14 15:56:34 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db fail
2025-12-14 15:56:34 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-14 15:56:34 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 15:56:34 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-14 15:56:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:39 | INFO     | app.notifications:deliver_scheduled_notification:921 | Scheduled notification 1 delivered
2025-12-14 15:56:39 | ERROR    | app.notifications:deliver_scheduled_notification:918 | Scheduled notification 9999 not found
2025-12-14 15:56:39 | INFO     | app.notifications:send_bulk_notifications:946 | Bulk notifications: 1 successful of 2
2025-12-14 15:56:39 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 5
2025-12-14 15:56:39 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 6
2025-12-14 15:56:39 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=1: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 15:56:39 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=2
2025-12-14 15:56:40 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=3: ws crash
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 22, in websocket_endpoint
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_notifications_tasks_and_ws.py", line 30, in receive_text
    raise value
RuntimeError: ws crash
2025-12-14 15:56:40 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=4: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 15:56:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:56:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:56:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:56:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:56:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:05 | ERROR    | app.notifications:process_scheduled_notifications_task:63 | Failed to enqueue scheduled notification 1: queue fail
2025-12-14 15:57:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:14 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 15:57:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:19 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 15:57:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:25 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 15:57:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 15:57:25 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:57:25 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:57:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:57:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-14 15:57:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:48 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 15:57:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:48 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 15:57:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 15:57:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:57:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:57:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 15:57:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:57:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:57:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-14 15:58:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 15:58:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-14 15:58:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 15:58:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 15:58:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:42 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 15:58:42 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 15:58:42 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:58:42 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:58:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:58:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:48 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 15:58:48 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 15:58:48 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 15:58:48 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 15:58:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 15:58:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:58:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:58:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:58:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:58:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 15:58:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 15:59:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-14 15:59:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-14 15:59:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 15:59:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 15:59:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 15:59:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 15:59:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 15:59:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 15:59:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 15:59:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 15:59:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 15:59:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 16:00:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 16:00:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/export "HTTP/1.1 200 OK"
2025-12-14 16:00:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me "HTTP/1.1 204 No Content"
2025-12-14 16:00:17 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 16:00:17 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 16:00:17 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: socket closed
2025-12-14 16:00:17 | INFO     | app.notifications:connect:25 | WebSocket connected for user 5
2025-12-14 16:00:17 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 5
2025-12-14 16:00:17 | INFO     | app.firebase_config:initialize_firebase:41 | Firebase initialized successfully
2025-12-14 16:00:17 | ERROR    | app.firebase_config:initialize_firebase:44 | Failed to initialize Firebase: bad
2025-12-14 16:00:17 | ERROR    | app.firebase_config:send_multicast_notification:72 | Error sending multicast notification: fail
2025-12-14 16:00:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/ "HTTP/1.1 201 Created"
2025-12-14 16:00:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/reels/active?community_id=1 "HTTP/1.1 200 OK"
2025-12-14 16:00:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/reels/1 "HTTP/1.1 200 OK"
2025-12-14 16:00:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/1/view "HTTP/1.1 200 OK"
2025-12-14 16:00:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 16:00:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:00:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:00:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 16:00:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:00:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:00:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 16:01:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 16:01:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:13 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 16:01:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:01:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:01:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:01:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:01:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:01:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:01:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:01:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:01:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:01:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 16:01:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 16:01:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 16:01:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 16:01:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 16:01:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:01:54 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 16:01:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 16:01:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:01:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:01:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/twitter/callback "HTTP/1.1 401 Unauthorized"
2025-12-14 16:02:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:04 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/upload_file/
2025-12-14 16:02:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/upload_file/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:02:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:12 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/audio
2025-12-14 16:02:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/audio "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:02:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:18 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /notifications/
2025-12-14 16:02:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/?category=invalid "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:02:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:02:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:31 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense down
2025-12-14 16:02:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:02:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:02:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:02:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2&mark_read=true "HTTP/1.1 200 OK"
2025-12-14 16:02:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/notifications/mark-all-read "HTTP/1.1 200 OK"
2025-12-14 16:02:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:02:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:02:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:02:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:02:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:03:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:03:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:03:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:03:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:03:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:03:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:03:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:03:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:03:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:03:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:03:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 16:03:10 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense error
2025-12-14 16:03:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:03:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:03:16 | ERROR    | app.core.error_handlers:app_exception_handler:73 | AppException: teapot - short and stout
2025-12-14 16:03:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/boom "HTTP/1.1 418 I'm a teapot"
2025-12-14 16:03:17 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /validate
2025-12-14 16:03:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/validate "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:03:17 | WARNING  | app.core.error_handlers:rate_limit_handler:136 | Rate limit exceeded for testclient
2025-12-14 16:03:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ratelimit "HTTP/1.1 429 Too Many Requests"
2025-12-14 16:03:17 | ERROR    | app.core.error_handlers:sqlalchemy_exception_handler:156 | Database error: db is down
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 66, in dberr
    raise SQLAlchemyError("db is down")
sqlalchemy.exc.SQLAlchemyError: db is down
2025-12-14 16:03:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/dberr "HTTP/1.1 500 Internal Server Error"
2025-12-14 16:03:17 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: explode
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 70, in general
    raise RuntimeError("explode")
RuntimeError: explode
2025-12-14 16:03:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/general "HTTP/1.1 500 Internal Server Error"
2025-12-14 16:04:38 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 16:04:40 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 16:04:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:04:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 307 Temporary Redirect"
2025-12-14 16:04:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/livez "HTTP/1.1 200 OK"
2025-12-14 16:04:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 307 Temporary Redirect"
2025-12-14 16:04:46 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:04:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 16:04:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 307 Temporary Redirect"
2025-12-14 16:04:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://evil.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 16:04:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:04:55 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:04:57 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:04:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:04:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:04:59 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:05:02 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 16:05:08 | INFO     | app.routers.amenhotep:get_chat_history:154 | Retrieved chat history for user 1
2025-12-14 16:05:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:08 | INFO     | app.routers.amenhotep:clear_chat_history:184 | Cleared chat history for user 1
2025-12-14 16:05:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/amenhotep/clear-history/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:08 | ERROR    | app.routers.amenhotep:get_chat_history:157 | Error retrieving chat history for user 1: 403:        
2025-12-14 16:05:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 500 Internal Server Error"
2025-12-14 16:05:09 | ERROR    | app.firebase_config:send_push_notification:163 | Error sending push notification: send failure
2025-12-14 16:05:09 | ERROR    | app.firebase_config:unsubscribe_from_topic:136 | Error unsubscribing from topic: bad request
2025-12-14 16:05:09 | ERROR    | app.modules.media.processing:speech_to_text:36 | Speech recognition API error: api down
2025-12-14 16:05:10 | ERROR    | app.utils:wrapper:66 | Unhandled exception in utility function: failing
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\modules\utils\security.py", line 62, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session6_media_utils.py", line 157, in failing
    raise RuntimeError("boom")
RuntimeError: boom
2025-12-14 16:05:12 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 16:05:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 16:05:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 1}
2025-12-14 16:05:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 2}
2025-12-14 16:05:20 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 16:05:20 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 16:05:24 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 16:05:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/ "HTTP/1.1 200 OK"
2025-12-14 16:05:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/unfollow/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 16:05:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 403 Forbidden"
2025-12-14 16:05:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 201 Created"
2025-12-14 16:05:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/categories/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/categories/1 "HTTP/1.1 204 No Content"
2025-12-14 16:05:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/vote-analytics "HTTP/1.1 200 OK"
2025-12-14 16:05:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 200 OK"
2025-12-14 16:05:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 403 Forbidden"
2025-12-14 16:05:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 16:05:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 16:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 403 Forbidden"
2025-12-14 16:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 201 Created"
2025-12-14 16:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/sessions/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 404 Not Found"
2025-12-14 16:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/login/facebook "HTTP/1.1 200 OK"
2025-12-14 16:05:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 200 OK"
2025-12-14 16:05:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 401 Unauthorized"
2025-12-14 16:05:32 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 16:05:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 16:05:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 16:05:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/calls/active "HTTP/1.1 200 OK"
2025-12-14 16:05:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 401 Unauthorized"
2025-12-14 16:05:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: connect fail
2025-12-14 16:05:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 16:05:37 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 16:05:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 16:05:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 16:05:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:05:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:05:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:05:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 404 Not Found"
2025-12-14 16:05:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:05:50 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 16:05:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 16:05:50 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 16:05:50 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 16:05:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 16:05:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:05:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reactions/ "HTTP/1.1 201 Created"
2025-12-14 16:05:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:05:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:05:57 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 16:05:57 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 16:05:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:05:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 16:05:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/profile/1/media "HTTP/1.1 200 OK"
2025-12-14 16:06:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 16:06:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 16:06:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 16:06:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me/identities/2 "HTTP/1.1 204 No Content"
2025-12-14 16:06:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 16:06:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 16:06:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:17 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 16:06:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 16:06:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:06:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:06:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:06:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:06:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 16:06:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/1 "HTTP/1.1 200 OK"
2025-12-14 16:06:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/99999 "HTTP/1.1 404 Not Found"
2025-12-14 16:06:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 200 OK"
2025-12-14 16:06:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 400 Bad Request"
2025-12-14 16:06:47 | ERROR    | app.modules.utils.content:safe_analyze:213 | safe_analyze_failed: no model
2025-12-14 16:06:47 | ERROR    | app.modules.utils.content:antivirus_scan:225 | antivirus_scan_failed: scanner down
2025-12-14 16:06:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:06:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:06:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 200 OK"
2025-12-14 16:06:53 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 16:06:53 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 16:06:53 | WARNING  | app.utils:parse_json_response:73 | non_json_response
2025-12-14 16:06:53 | ERROR    | app.utils:with_retry:89 | network_error
2025-12-14 16:06:53 | ERROR    | app.utils:safe_request:103 | network_request_failed
2025-12-14 16:06:55 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-14 16:06:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:06:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:06:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:06:59 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:06:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 16:07:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:07:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 16:07:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:08 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:07:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 16:07:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 404 Not Found"
2025-12-14 16:07:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 401 Unauthorized"
2025-12-14 16:07:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:20 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 16:07:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:07:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:24 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 16:07:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 16:07:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:28 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 16:07:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 16:07:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 16:07:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 16:07:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 16:07:33 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 16:07:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 18:14:09 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 18:14:10 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 18:14:16 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:20 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 18:14:21 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 18:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 18:14:21 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-14 18:14:21 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 18:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 18:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-14 18:14:21 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:23 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 18:14:23 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 18:14:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 18:14:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 18:14:23 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:25 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 18:14:25 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 18:14:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 18:14:25 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:26 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:28 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 18:14:30 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-14 18:14:31 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:33 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:34 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:36 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:37 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-14 18:14:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:37 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 18:14:38 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-14 18:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-14 18:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-14 18:14:40 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 18:14:43 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-14 18:14:43 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-14 18:14:43 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-14 18:14:45 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 18:14:47 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-14 18:14:49 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 18:14:51 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 18:14:52 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:54 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 18:14:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 18:14:54 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 18:14:54 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 18:14:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 18:14:54 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:56 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 18:14:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 18:14:56 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 18:14:56 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 18:14:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 18:14:56 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 18:14:57 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:14:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:14:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:14:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 18:14:59 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-14 18:15:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-14 18:15:01 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 18:15:03 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 18:15:05 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 18:15:07 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 18:15:09 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 18:15:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 18:15:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 18:15:10 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-14 18:15:10 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-14 18:15:10 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 18:15:10 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-14 19:48:14 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:48:16 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:03 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:04 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:05 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 19:49:05 | ERROR    | app.analytics:log_analysis_event:55 | analytics.failure
2025-12-14 19:49:05 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 19:49:05 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:07 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:07 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/languages "HTTP/1.1 200 OK"
2025-12-14 19:49:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 19:49:07 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:09 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:09 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:11 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:11 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:12 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:12 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 19:49:12 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:14 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:14 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 19:49:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 19:49:14 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:16 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:16 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/ "HTTP/1.1 404 Not Found"
2025-12-14 19:49:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/uploads/ "HTTP/1.1 404 Not Found"
2025-12-14 19:49:16 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:17 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:17 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 19:49:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/hello.txt "HTTP/1.1 200 OK"
2025-12-14 19:49:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/missing.txt "HTTP/1.1 404 Not Found"
2025-12-14 19:49:18 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:20 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:20 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 19:49:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:49:20 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:24 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 19:49:24 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:25 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:49:25 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:27 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 19:49:27 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:49:28 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:49:28 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): ping fail
2025-12-14 19:49:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:49:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 19:49:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:38 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 19:49:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:38 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 19:49:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 19:49:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 19:49:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:49:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:49:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 19:49:59 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 19:49:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:49:59 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 19:49:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 19:50:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 19:50:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/moderator/community/1/reports "HTTP/1.1 403 Forbidden"
2025-12-14 19:50:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:16 | INFO     | app.utils:log_event:14 | Block event block_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 19:50:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 201 Created"
2025-12-14 19:50:16 | INFO     | app.utils:log_event:14 | Block event manual_unblock_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 19:50:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/block/2 "HTTP/1.1 204 No Content"
2025-12-14 19:50:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 400 Bad Request"
2025-12-14 19:50:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/warn/2 "HTTP/1.1 200 OK"
2025-12-14 19:50:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/ban/2 "HTTP/1.1 200 OK"
2025-12-14 19:50:23 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 19:50:23 | ERROR    | app.core.cache.redis_cache:set_with_tags:221 | Cache set_with_tags error for key k1: 'FakeRedis' object has no attribute 'pipeline'
2025-12-14 19:50:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:26 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 19:50:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 19:50:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 19:50:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 19:50:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 19:50:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 19:50:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects "HTTP/1.1 200 OK"
2025-12-14 19:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects/1/contributions "HTTP/1.1 201 Created"
2025-12-14 19:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1 "HTTP/1.1 200 OK"
2025-12-14 19:50:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1/contributions "HTTP/1.1 200 OK"
2025-12-14 19:50:43 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 19:50:43 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:50:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:50:47 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 19:50:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:50:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:50:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 19:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:50:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities/ "HTTP/1.1 200 OK"
2025-12-14 19:50:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:50:54 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:50:54 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 19:50:55 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 19:50:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:55 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 19:50:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 19:50:55 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 19:50:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:50:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:50:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:50:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:50:59 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:50:59 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:50:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 19:51:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 19:51:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:00 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 19:51:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 19:51:00 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 19:51:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 400 Bad Request"
2025-12-14 19:51:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 19:51:03 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:03 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 19:51:03 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 19:51:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:03 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 19:51:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 403 Forbidden"
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 201 Created"
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: update_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:04 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:04 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:05 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 2}
2025-12-14 19:51:05 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:51:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:13 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:13 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:13 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 19:51:13 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:51:14 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:51:14 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:14 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:14 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 19:51:14 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:51:17 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:51:17 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:17 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:17 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 19:51:17 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 19:51:19 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 19:51:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:21 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 19:51:24 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:51:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:28 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:51:30 | INFO     | app.core.cache.redis_cache:invalidate:147 | Invalidated cache pattern: a:*
2025-12-14 19:51:30 | ERROR    | app.core.cache.redis_cache:get:104 | Cache get error for key bad: Expecting value: line 1 column 1 (char 0)
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 19:51:30 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 19:51:30 | ERROR    | app.core.config.settings:_read_key_file:312 | Private key file not found: C:\Users\kglou\AppData\Local\Temp\pytest-of-kglou\pytest-332\test_settings_missing_keys_rai0\missing_priv.pem
2025-12-14 19:51:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 19:51:35 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:51:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:37 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 19:51:39 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 19:51:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:42 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 19:51:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 19:51:42 | WARNING  | app.core.scheduling.tasks:startup_event:127 | Firebase initialization failed - push notifications will be disabled
2025-12-14 19:51:42 | ERROR    | app.core.scheduling.tasks:cleanup_expired_reels_task:207 | Failed to cleanup expired reels: boom
2025-12-14 19:51:43 | ERROR    | app.core.scheduling.tasks:update_search_suggestions_task:155 | Failed to update search suggestions: search boom
2025-12-14 19:51:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:51:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:51:52 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 19:51:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 19:51:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:51:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:51:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:51:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:51:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:51:57 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 19:51:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 19:51:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 19:52:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 19:52:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 19:52:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 19:52:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 19:52:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 19:52:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 19:52:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 400 Bad Request"
2025-12-14 19:52:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:43 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 19:52:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 19:52:46 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?limit=2&skip=1 "HTTP/1.1 200 OK"
2025-12-14 19:52:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:52:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:52:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:52:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:52:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?search=first "HTTP/1.1 200 OK"
2025-12-14 19:53:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/submit "HTTP/1.1 200 OK"
2025-12-14 19:53:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/verify/1 "HTTP/1.1 200 OK"
2025-12-14 19:53:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/vote/1 "HTTP/1.1 200 OK"
2025-12-14 19:53:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/correct/1 "HTTP/1.1 200 OK"
2025-12-14 19:53:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts/1 "HTTP/1.1 200 OK"
2025-12-14 19:53:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts?status=verified "HTTP/1.1 200 OK"
2025-12-14 19:53:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/search?q=sky "HTTP/1.1 200 OK"
2025-12-14 19:53:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/wellness/metrics "HTTP/1.1 200 OK"
2025-12-14 19:53:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/goals "HTTP/1.1 200 OK"
2025-12-14 19:53:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/do-not-disturb "HTTP/1.1 200 OK"
2025-12-14 19:53:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/mental-health-mode "HTTP/1.1 200 OK"
2025-12-14 19:53:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:39 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:53:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 19:53:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:44 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 19:53:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 19:53:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/test_file.txt "HTTP/1.1 200 OK"
2025-12-14 19:53:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 404 Not Found"
2025-12-14 19:53:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:53:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:53:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:53:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:53:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 19:54:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 19:54:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 19:54:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 19:54:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 19:54:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:16:52 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:16:54 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:17:48 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:17:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:17:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:17:50 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:17:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:17:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:17:51 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 20:17:51 | ERROR    | app.analytics:log_analysis_event:55 | analytics.failure
2025-12-14 20:17:51 | INFO     | app.analytics:log_analysis_event:51 | analytics.success
2025-12-14 20:17:52 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:17:54 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:17:54 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:17:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/languages "HTTP/1.1 200 OK"
2025-12-14 20:17:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 20:17:54 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:17:57 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:17:57 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:17:59 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:17:59 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:02 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:02 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:18:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 20:18:02 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:05 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:05 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:18:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 200 OK"
2025-12-14 20:18:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://example.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 20:18:05 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:08 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:08 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:18:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/ "HTTP/1.1 404 Not Found"
2025-12-14 20:18:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/uploads/ "HTTP/1.1 404 Not Found"
2025-12-14 20:18:08 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:10 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:10 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:18:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/hello.txt "HTTP/1.1 200 OK"
2025-12-14 20:18:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/static/missing.txt "HTTP/1.1 404 Not Found"
2025-12-14 20:18:11 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:13 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:13 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 20:18:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:18:13 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:16 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 20:18:16 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:18 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:18:18 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:21 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 20:18:21 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:18:23 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:18:23 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): ping fail
2025-12-14 20:18:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:18:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 20:18:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:33 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:18:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:33 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 20:18:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:18:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 20:18:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:18:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:18:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:18:57 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:18:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:18:57 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 20:18:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 20:19:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 20:19:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/moderator/community/1/reports "HTTP/1.1 403 Forbidden"
2025-12-14 20:19:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:13 | INFO     | app.utils:log_event:14 | Block event block_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 20:19:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 201 Created"
2025-12-14 20:19:13 | INFO     | app.utils:log_event:14 | Block event manual_unblock_user - metadata={'blocker_id': 1, 'blocked_id': 2}
2025-12-14 20:19:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/block/2 "HTTP/1.1 204 No Content"
2025-12-14 20:19:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/block/ "HTTP/1.1 400 Bad Request"
2025-12-14 20:19:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/warn/2 "HTTP/1.1 200 OK"
2025-12-14 20:19:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/moderation/ban/2 "HTTP/1.1 200 OK"
2025-12-14 20:19:21 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 20:19:21 | ERROR    | app.core.cache.redis_cache:set_with_tags:221 | Cache set_with_tags error for key k1: 'FakeRedis' object has no attribute 'pipeline'
2025-12-14 20:19:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:26 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 20:19:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 20:19:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 20:19:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 20:19:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 20:19:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 20:19:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects "HTTP/1.1 200 OK"
2025-12-14 20:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/collaboration/projects/1/contributions "HTTP/1.1 201 Created"
2025-12-14 20:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1 "HTTP/1.1 200 OK"
2025-12-14 20:19:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/collaboration/projects/1/contributions "HTTP/1.1 200 OK"
2025-12-14 20:19:48 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 20:19:48 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:19:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:19:53 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:19:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:19:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:19:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:19:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:19:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:19:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:19:56 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:19:56 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:19:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:19:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:19:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/communities/ "HTTP/1.1 200 OK"
2025-12-14 20:19:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:20:00 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:01 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:20:01 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:20:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:01 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 20:20:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:20:02 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 20:20:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:20:06 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:06 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:20:07 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:20:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:07 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 20:20:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:20:07 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 20:20:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 400 Bad Request"
2025-12-14 20:20:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities "HTTP/1.1 307 Temporary Redirect"
2025-12-14 20:20:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:12 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:20:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:20:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:12 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 20:20:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:20:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 403 Forbidden"
2025-12-14 20:20:13 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/post "HTTP/1.1 201 Created"
2025-12-14 20:20:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:13 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:13 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: update_community, Metadata: {'community_id': 1}
2025-12-14 20:20:13 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:20:14 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:20:14 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:15 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:20:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:15 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:15 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:16 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:16 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:16 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:20:16 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:16 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 2}
2025-12-14 20:20:16 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:20:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:20:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:20:25 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:25 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:25 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 20:20:25 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:20:28 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:20:28 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:28 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:28 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 20:20:28 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:20:32 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:20:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:32 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:32 | WARNING  | app.core.config.settings:__init__:192 | REDIS_URL is not set, Redis client will not be initialized.
2025-12-14 20:20:32 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 20:20:35 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 20:20:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:37 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 20:20:40 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:20:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:45 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:20:46 | INFO     | app.core.cache.redis_cache:invalidate:147 | Invalidated cache pattern: a:*
2025-12-14 20:20:46 | ERROR    | app.core.cache.redis_cache:get:104 | Cache get error for key bad: Expecting value: line 1 column 1 (char 0)
2025-12-14 20:20:46 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:46 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:46 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 20:20:46 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:46 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:46 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 20:20:47 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read private key from C:\Users\kglou\Desktop\fastapi\private_key.pem
2025-12-14 20:20:47 | INFO     | app.core.config.settings:_read_key_file:324 | Successfully read public key from C:\Users\kglou\Desktop\fastapi\public_key.pem
2025-12-14 20:20:47 | INFO     | app.core.config.settings:__init__:187 | Redis client successfully initialized.
2025-12-14 20:20:47 | ERROR    | app.core.config.settings:_read_key_file:312 | Private key file not found: C:\Users\kglou\AppData\Local\Temp\pytest-of-kglou\pytest-333\test_settings_missing_keys_rai0\missing_priv.pem
2025-12-14 20:20:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 20:20:52 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:20:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:54 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 20:20:57 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:20:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 20:20:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:00 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 20:21:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 20:21:01 | WARNING  | app.core.scheduling.tasks:startup_event:127 | Firebase initialization failed - push notifications will be disabled
2025-12-14 20:21:01 | ERROR    | app.core.scheduling.tasks:cleanup_expired_reels_task:207 | Failed to cleanup expired reels: boom
2025-12-14 20:21:02 | ERROR    | app.core.scheduling.tasks:update_search_suggestions_task:155 | Failed to update search suggestions: search boom
2025-12-14 20:21:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:12 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 20:21:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:21:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:18 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 20:21:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:21:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:21:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 20:21:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 20:21:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 20:21:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 20:21:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:21:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:21:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:21:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/4 "HTTP/1.1 403 Forbidden"
2025-12-14 20:21:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:21:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/9999 "HTTP/1.1 404 Not Found"
2025-12-14 20:22:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 400 Bad Request"
2025-12-14 20:22:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:13 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/
2025-12-14 20:22:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:22:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?limit=2&skip=1 "HTTP/1.1 200 OK"
2025-12-14 20:22:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/?search=first "HTTP/1.1 200 OK"
2025-12-14 20:22:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/submit "HTTP/1.1 200 OK"
2025-12-14 20:22:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/verify/1 "HTTP/1.1 200 OK"
2025-12-14 20:22:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/vote/1 "HTTP/1.1 200 OK"
2025-12-14 20:22:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/fact-checking/correct/1 "HTTP/1.1 200 OK"
2025-12-14 20:22:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts/1 "HTTP/1.1 200 OK"
2025-12-14 20:22:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/facts?status=verified "HTTP/1.1 200 OK"
2025-12-14 20:22:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/fact-checking/search?q=sky "HTTP/1.1 200 OK"
2025-12-14 20:22:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:22:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/wellness/metrics "HTTP/1.1 200 OK"
2025-12-14 20:22:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/goals "HTTP/1.1 200 OK"
2025-12-14 20:22:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/do-not-disturb "HTTP/1.1 200 OK"
2025-12-14 20:22:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/wellness/mental-health-mode "HTTP/1.1 200 OK"
2025-12-14 20:22:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:22:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:22:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:22:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:21 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:23:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 20:23:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:28 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:23:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 201 Created"
2025-12-14 20:23:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/test_file.txt "HTTP/1.1 200 OK"
2025-12-14 20:23:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 404 Not Found"
2025-12-14 20:23:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 20:23:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:23:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:23:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:23:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:23:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 413 Request Entity Too Large"
2025-12-14 20:52:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 200 OK"
2025-12-14 20:52:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/protected-resource "HTTP/1.1 401 Unauthorized"
2025-12-14 20:52:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:33 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 20:52:33 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:52:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 20:52:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:41 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 20:52:41 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:52:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 20:52:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 204 No Content"
2025-12-14 20:52:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 400 Bad Request"
2025-12-14 20:52:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:52:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:52:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:52:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 20:52:58 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:52:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:52:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 20:53:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 400 Bad Request"
2025-12-14 20:53:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/follow/2 "HTTP/1.1 404 Not Found"
2025-12-14 20:53:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 20:53:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:20 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/0
2025-12-14 20:53:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/0 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:53:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:26 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /follow/-1
2025-12-14 20:53:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/-1 "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:53:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 20:53:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 20:53:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations "HTTP/1.1 201 Created"
2025-12-14 20:53:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '0891e1d3-1d69-41bf-8aad-75fa63e7f954'}
2025-12-14 20:53:50 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:53:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/conversations/0891e1d3-1d69-41bf-8aad-75fa63e7f954/messages "HTTP/1.1 201 Created"
2025-12-14 20:53:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/conversations/0891e1d3-1d69-41bf-8aad-75fa63e7f954/messages "HTTP/1.1 200 OK"
2025-12-14 20:53:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:53:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:53:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:53:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/certificates "HTTP/1.1 201 Created"
2025-12-14 20:53:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:53:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/certificates "HTTP/1.1 200 OK"
2025-12-14 20:54:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/impact/cultural-dictionary "HTTP/1.1 201 Created"
2025-12-14 20:54:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/impact/cultural-dictionary?q=Maj "HTTP/1.1 200 OK"
2025-12-14 20:54:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:13 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: name 'Badge' is not defined
2025-12-14 20:54:13 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 20:54:13 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 20:54:13 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 20:54:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 20:54:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/2 "HTTP/1.1 200 OK"
2025-12-14 20:54:17 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:19 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:32 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:50 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_audio_post, Metadata: {'post_id': 1}
2025-12-14 20:54:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:54:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:54:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:58 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 20:54:58 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:54:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 20:54:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:54:59 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_1'}
2025-12-14 20:54:59 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:54:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:54:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 20:55:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/inbox "HTTP/1.1 200 OK"
2025-12-14 20:55:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:08 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 20:55:09 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:55:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 20:55:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 20:55:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:18 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 20:55:18 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:55:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:19 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 20:55:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:55:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:55:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/send_file "HTTP/1.1 400 Bad Request"
2025-12-14 20:55:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/download/nonexistent.txt "HTTP/1.1 404 Not Found"
2025-12-14 20:55:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:55:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:55:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:55:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:55:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:55:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:56:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:56:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:13 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:13 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/
2025-12-14 20:56:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:56:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 20:56:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=0&limit=10 "HTTP/1.1 200 OK"
2025-12-14 20:56:28 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=10&limit=10 "HTTP/1.1 200 OK"
2025-12-14 20:56:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/?skip=20&limit=10 "HTTP/1.1 200 OK"
2025-12-14 20:56:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/message/ "HTTP/1.1 200 OK"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ok "HTTP/1.1 403 Forbidden"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/greet "HTTP/1.1 200 OK"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 200 OK"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/limited "HTTP/1.1 429 Too Many Requests"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ping "HTTP/1.1 200 OK"
2025-12-14 20:56:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/err "HTTP/1.1 418 I'm a teapot"
2025-12-14 20:56:40 | INFO     | app.utils:log_admin_action:21 | Admin 1 action add_banned_word - metadata={'word': 'spam'}
2025-12-14 20:56:40 | INFO     | app.utils:log_admin_action:21 | Admin 1 action remove_banned_word - metadata={'word_id': 1}
2025-12-14 20:56:40 | ERROR    | app.modules.wellness.service:end_wellness_session:118 | Wellness session not found: 9999
2025-12-14 20:56:41 | WARNING  | app.core.cache.redis_cache:init_cache:37 | REDIS_URL not set. Caching disabled.
2025-12-14 20:56:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: conn fail
2025-12-14 20:56:41 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 20:56:41 | INFO     | app.core.cache.redis_cache:init_cache:50 | Redis cache initialized successfully.
2025-12-14 20:56:41 | INFO     | app.core.cache.redis_cache:invalidate_by_tag:233 | Invalidated cache by tag: t1
2025-12-14 20:56:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:47 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 20:56:47 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 20:56:47 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 20:56:47 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 20:56:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 20:56:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:56:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:56:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:56:55 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 20:56:55 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:56:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 20:56:58 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:56:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:00 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:03 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:57:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 20:57:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:12 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: follow_user, Metadata: {'followed_id': 2}
2025-12-14 20:57:12 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:57:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/follow/2 "HTTP/1.1 201 Created"
2025-12-14 20:57:12 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 1
2025-12-14 20:57:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:18 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 20:57:18 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 20:57:18 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 20:57:18 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 20:57:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 20:57:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:27 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 20:57:27 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 20:57:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 201 Created"
2025-12-14 20:57:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:33 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:35 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_community, Metadata: {'community_id': 1}
2025-12-14 20:57:35 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:57:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/ "HTTP/1.1 201 Created"
2025-12-14 20:57:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:37 | INFO     | app.utils:log_user_event:17 | User Event - User: 2, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 20:57:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:37 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello3@gmail.com
2025-12-14 20:57:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 20:57:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:38 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 20:57:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/communities/1/join "HTTP/1.1 200 OK"
2025-12-14 20:57:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/summary "HTTP/1.1 200 OK"
2025-12-14 20:57:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:57:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2 "HTTP/1.1 200 OK"
2025-12-14 20:57:52 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: send fail
2025-12-14 20:57:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:57:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:57:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:57:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:06 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 20:58:06 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 20:58:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:16 | ERROR    | app.notifications:wrapper:56 | Error in bad_fn: boom
2025-12-14 20:58:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:39 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: smtp down
2025-12-14 20:58:39 | ERROR    | app.notifications:wrapper:56 | Error in send_real_time_notification: ws down
2025-12-14 20:58:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:44 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:58:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:48 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:58:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:53 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:58:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:58:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:58:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:58:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:58:58 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:58:58 | ERROR    | app.notifications:create_notification:386 | Error creating notification: metadata too large
2025-12-14 20:59:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:02 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 20:59:02 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:59:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:07 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:59:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:12 | WARNING  | app.notifications:_normalize_metadata:397 | Invalid notification metadata provided; defaulting to empty metadata.
2025-12-14 20:59:12 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:59:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:16 | ERROR    | app.notifications:create_notification:386 | Error creating notification: '<=' not supported between instances of 'MagicMock' and 'datetime.time'
2025-12-14 20:59:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:21 | ERROR    | app.notifications:create_notification:386 | Error creating notification: (sqlite3.IntegrityError) NOT NULL constraint failed: notifications.content
[SQL: INSERT INTO notifications (user_id, content, link, notification_type, priority, category, is_read, is_archived, is_deleted, read_at, scheduled_for, expires_at, related_id, notification_metadata, group_id, updated_at, status, retry_count, last_retry, notification_version, importance_level, seen_at, interaction_count, custom_data, notification_channel, failure_reason, batch_id, priority_level, expiration_date, delivery_tracking, retry_strategy, max_retries, current_retry_count, last_retry_timestamp) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id, created_at]
[parameters: (1, None, None, 'invalid', 'MEDIUM', 'SYSTEM', 0, 0, 0, None, None, None, None, '{}', None, None, 'PENDING', 0, None, 1, 1, None, 0, '{}', 'in_app', None, None, 1, None, '{}', None, 3, 0, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-14 20:59:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:44 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:59:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:50 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 20:59:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 20:59:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 20:59:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 20:59:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 20:59:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:03 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 21:00:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:26 | WARNING  | app.notifications:fake_email:557 | No email found for user 1
2025-12-14 21:00:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:31 | INFO     | app.notifications:fake_push:583 | No active devices for user 1
2025-12-14 21:00:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:36 | ERROR    | app.notifications:_send_realtime_notification:256 | Error sending realtime notification: ws down
2025-12-14 21:00:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:00:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:00:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:00:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:00:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:01 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:02 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:03 | INFO     | app.notifications:no_devices:191 | No active devices for user 1
2025-12-14 21:01:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:10 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:12 | WARNING  | app.notifications:warn_email:244 | No email found for user 1
2025-12-14 21:01:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:44 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T18:01:44.263023+00:00'}
2025-12-14 21:01:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:49 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T18:01:49.137258+00:00'}
2025-12-14 21:01:51 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:53 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T18:01:53.365935+00:00'}
2025-12-14 21:01:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:01:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:01:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:01:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:01:57 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T18:01:57.888793+00:00'}
2025-12-14 21:02:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:02 | WARNING  | app.notifications:deliver_notification:83 | No delivery channels enabled for user 1
2025-12-14 21:02:05 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:06 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:07 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fatal', 'timestamp': '2025-12-14T18:02:07.386966+00:00'}
2025-12-14 21:02:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:11 | INFO     | app.notifications:_send_email_notification:198 | Email sent to hello123@gmail.com
2025-12-14 21:02:11 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'commit fail', 'timestamp': '2025-12-14T18:02:11.938299+00:00'}
2025-12-14 21:02:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:16 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T18:02:16.253088+00:00'}
2025-12-14 21:02:16 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: Recipient e-mail address is required.
2025-12-14 21:02:16 | INFO     | app.notifications:send_email_notification:87 | Mail credentials are not configured; skipping send for recipients ['user@example.com']
2025-12-14 21:02:16 | INFO     | app.notifications:send_email_notification:94 | Email notification sent successfully
2025-12-14 21:02:16 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp down
2025-12-14 21:02:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:21 | INFO     | app.notifications:schedule_email_notification_by_id:101 | Scheduled email notification 1 to be sent in 0 seconds.
2025-12-14 21:02:21 | INFO     | app.notifications:task:124 | Scheduled email notification 1 delivered.
2025-12-14 21:02:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:35 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:35 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 21:02:35 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: boom
2025-12-14 21:02:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:40 | ERROR    | app.notifications:get_model_by_id:27 | Error fetching Notification(1): db down
2025-12-14 21:02:42 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:43 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:02:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:02:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:02:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:02:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:06 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:08 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:08 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 21:03:08 | INFO     | app.notifications:create_notification:383 | Notification created for user 1
2025-12-14 21:03:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:13 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=42
2025-12-14 21:03:13 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=99: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 21:03:13 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 21:03:13 | INFO     | app.notifications:connect:25 | WebSocket connected for user 2
2025-12-14 21:03:13 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 2: fail
2025-12-14 21:03:13 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 7
2025-12-14 21:03:13 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 8
2025-12-14 21:03:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:18 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T18:03:18.601919+00:00'}
2025-12-14 21:03:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:23 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'dead', 'timestamp': '2025-12-14T18:03:23.084257+00:00'}
2025-12-14 21:03:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:27 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:30 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:34 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:41 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'boom', 'timestamp': '2025-12-14T18:03:41.508427+00:00'}
2025-12-14 21:03:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:46 | ERROR    | app.notifications:deliver_notification:99 | Delivery error: {'notification_id': 1, 'error_type': 'RuntimeError', 'error_message': 'fail', 'timestamp': '2025-12-14T18:03:46.331008+00:00'}
2025-12-14 21:03:48 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:50 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:03:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:03:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:03:59 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:03:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:12 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:13 | INFO     | app.notifications:create_notification:362 | Notification skipped for user 1 per preferences
2025-12-14 21:04:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:23 | ERROR    | app.notifications:send_push_notification_task:127 | Error sending push notification: fcm down
2025-12-14 21:04:23 | ERROR    | app.notifications:wrapper:56 | Error in send_email_notification: smtp timeout
2025-12-14 21:04:23 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 21:04:23 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: ws break
2025-12-14 21:04:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:27 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:28 | INFO     | app.notifications:deliver_scheduled_notification:921 | Scheduled notification 1 delivered
2025-12-14 21:04:28 | ERROR    | app.notifications:deliver_scheduled_notification:918 | Scheduled notification 9999 not found
2025-12-14 21:04:28 | INFO     | app.notifications:send_bulk_notifications:946 | Bulk notifications: 1 successful of 2
2025-12-14 21:04:28 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 5
2025-12-14 21:04:28 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 6
2025-12-14 21:04:28 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=1: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 21:04:28 | INFO     | app.api.websocket:websocket_endpoint:28 | WebSocket disconnected for user_id=2
2025-12-14 21:04:28 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=3: ws crash
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 22, in websocket_endpoint
    data = await websocket.receive_text()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_notifications_tasks_and_ws.py", line 30, in receive_text
    raise value
RuntimeError: ws crash
2025-12-14 21:04:29 | ERROR    | app.api.websocket:websocket_endpoint:30 | WebSocket error for user_id=4: Received empty message
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\api\websocket.py", line 24, in websocket_endpoint
    raise ValueError("Received empty message")
ValueError: Received empty message
2025-12-14 21:04:31 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:42 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:52 | ERROR    | app.notifications:process_scheduled_notifications_task:63 | Failed to enqueue scheduled notification 1: queue fail
2025-12-14 21:04:55 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:04:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:04:56 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:04:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:04:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:01 | ERROR    | app.notifications:deliver_notification_task:90 | Failed to queue email notification 1: email fail
2025-12-14 21:05:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:05 | ERROR    | app.notifications:deliver_notification_task:95 | Failed to queue push notification 1: push fail
2025-12-14 21:05:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:11 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 21:05:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 21:05:11 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 21:05:11 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 21:05:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 21:05:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-12-14 21:05:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 200 OK"
2025-12-14 21:05:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:37 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:39 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:41 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 21:05:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:45 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:46 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:47 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/88888 "HTTP/1.1 404 Not Found"
2025-12-14 21:05:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:05:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:05:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:05:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:05:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 21:06:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:01 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:02 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 21:06:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:11 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 21:06:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 21:06:11 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 21:06:11 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 21:06:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 21:06:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:18 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:18 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 21:06:18 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 21:06:18 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 21:06:18 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 21:06:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:18 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 21:06:21 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:26 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 401 Unauthorized"
2025-12-14 21:06:29 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:31 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:31 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:32 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 21:06:38 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:39 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:42 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: delete_post, Metadata: {'post_id': 1}
2025-12-14 21:06:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/1 "HTTP/1.1 204 No Content"
2025-12-14 21:06:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:49 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 21:06:54 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:06:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:55 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:58 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:06:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:06:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:06:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 200 OK"
2025-12-14 21:07:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:06 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/1 "HTTP/1.1 401 Unauthorized"
2025-12-14 21:07:11 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:12 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:14 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:16 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/posts/8000000 "HTTP/1.1 404 Not Found"
2025-12-14 21:07:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:20 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:22 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:24 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 21:07:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/export "HTTP/1.1 200 OK"
2025-12-14 21:07:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:30 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:31 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:32 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me "HTTP/1.1 204 No Content"
2025-12-14 21:07:33 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 21:07:33 | INFO     | app.notifications:connect:25 | WebSocket connected for user 1
2025-12-14 21:07:33 | ERROR    | app.notifications:send_personal_message:49 | Error sending message to user 1: socket closed
2025-12-14 21:07:33 | INFO     | app.notifications:connect:25 | WebSocket connected for user 5
2025-12-14 21:07:33 | INFO     | app.notifications:send_real_time_notification:81 | Real-time notification sent to user 5
2025-12-14 21:07:33 | INFO     | app.firebase_config:initialize_firebase:41 | Firebase initialized successfully
2025-12-14 21:07:33 | ERROR    | app.firebase_config:initialize_firebase:44 | Failed to initialize Firebase: bad
2025-12-14 21:07:33 | ERROR    | app.firebase_config:send_multicast_notification:72 | Error sending multicast notification: fail
2025-12-14 21:07:37 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:39 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/ "HTTP/1.1 201 Created"
2025-12-14 21:07:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/reels/active?community_id=1 "HTTP/1.1 200 OK"
2025-12-14 21:07:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:50 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/reels/1 "HTTP/1.1 200 OK"
2025-12-14 21:07:56 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:07:57 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:07:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:07:59 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:07:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reels/1/view "HTTP/1.1 200 OK"
2025-12-14 21:08:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 21:08:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:12 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 201 Created"
2025-12-14 21:08:15 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:17 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:18 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 21:08:20 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:22 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:23 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/report/ "HTTP/1.1 404 Not Found"
2025-12-14 21:08:26 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:29 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:29 | WARNING  | app.routers.search:search:76 | Redis unavailable, skipping cache: cache down
2025-12-14 21:08:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:08:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:36 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:38 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:08:41 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:43 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:43 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:44 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:08:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:08:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:46 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:08:49 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:08:51 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:08:53 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:08:54 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:08:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:08:58 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:08:59 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:09:02 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:03 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:06 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/enable "HTTP/1.1 200 OK"
2025-12-14 21:09:07 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/2fa/verify "HTTP/1.1 200 OK"
2025-12-14 21:09:08 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 21:09:10 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 400 Bad Request"
2025-12-14 21:09:11 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 21:09:11 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:11 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 21:09:11 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login/2fa?user_id=1 "HTTP/1.1 200 OK"
2025-12-14 21:09:14 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:15 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/twitter/callback "HTTP/1.1 401 Unauthorized"
2025-12-14 21:09:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:21 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /posts/upload_file/
2025-12-14 21:09:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/upload_file/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:09:24 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:30 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:30 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /message/audio
2025-12-14 21:09:30 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/message/audio "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:09:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:34 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:35 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:35 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:36 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /notifications/
2025-12-14 21:09:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/?category=invalid "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:09:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:40 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:42 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:42 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:09:45 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:46 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:47 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:48 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:48 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense down
2025-12-14 21:09:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:09:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:09:52 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:09:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:09:55 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:55 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:09:56 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:09:56 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:09:59 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:10:00 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:02 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:03 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:04 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/notifications/feed?limit=2&mark_read=true "HTTP/1.1 200 OK"
2025-12-14 21:10:05 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/notifications/mark-all-read "HTTP/1.1 200 OK"
2025-12-14 21:10:08 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:10:09 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:13 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:10:14 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:15 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:18 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:10:19 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:21 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:22 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:10:25 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:10:25 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:26 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:10:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:10:27 | ERROR    | app.utils:is_ip_banned:43 | ProgrammingError checking IP ban for testclient: (psycopg2.errors.UndefinedTable) relation "ip_bans" does not exist
LINE 2: FROM ip_bans 
             ^

[SQL: SELECT ip_bans.id AS ip_bans_id, ip_bans.ip_address AS ip_bans_ip_address, ip_bans.reason AS ip_bans_reason, ip_bans.banned_at AS ip_bans_banned_at, ip_bans.expires_at AS ip_bans_expires_at, ip_bans.created_by AS ip_bans_created_by 
FROM ip_bans 
WHERE ip_bans.ip_address = %(ip_address_1)s 
 LIMIT %(param_1)s]
[parameters: {'ip_address_1': 'testclient', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-12-14 21:10:27 | WARNING  | app.routers.search:search:120 | Typesense search failed, using default search: typesense error
2025-12-14 21:10:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:10:33 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:10:34 | ERROR    | app.core.error_handlers:app_exception_handler:73 | AppException: teapot - short and stout
2025-12-14 21:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/boom "HTTP/1.1 418 I'm a teapot"
2025-12-14 21:10:34 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /validate
2025-12-14 21:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/validate "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:10:34 | WARNING  | app.core.error_handlers:rate_limit_handler:136 | Rate limit exceeded for testclient
2025-12-14 21:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ratelimit "HTTP/1.1 429 Too Many Requests"
2025-12-14 21:10:34 | ERROR    | app.core.error_handlers:sqlalchemy_exception_handler:156 | Database error: db is down
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 66, in dberr
    raise SQLAlchemyError("db is down")
sqlalchemy.exc.SQLAlchemyError: db is down
2025-12-14 21:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/dberr "HTTP/1.1 500 Internal Server Error"
2025-12-14 21:10:34 | ERROR    | app.core.error_handlers:general_exception_handler:176 | Unhandled exception: explode
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\starlette\routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session11_app_factory_errors.py", line 70, in general
    raise RuntimeError("explode")
RuntimeError: explode
2025-12-14 21:10:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/general "HTTP/1.1 500 Internal Server Error"
2025-12-14 21:11:55 | INFO     | root:setup_logging:229 | Logging configured. Level: INFO, Directory: logs
2025-12-14 21:11:57 | INFO     | app.core.app_factory:create_app:363 | Application startup complete
2025-12-14 21:12:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:12:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 307 Temporary Redirect"
2025-12-14 21:12:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/livez "HTTP/1.1 200 OK"
2025-12-14 21:12:00 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 307 Temporary Redirect"
2025-12-14 21:12:03 | ERROR    | app.core.app_factory:readyz:191 | Readiness check failed (Redis): Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:12:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://example.com/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 21:12:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/ "HTTP/1.1 307 Temporary Redirect"
2025-12-14 21:12:03 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET https://evil.com/ "HTTP/1.1 400 Bad Request"
2025-12-14 21:12:11 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:12 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:12:15 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:16 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:20 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: send_message, Metadata: {'conversation_id': '1_2'}
2025-12-14 21:12:26 | INFO     | app.routers.amenhotep:get_chat_history:154 | Retrieved chat history for user 1
2025-12-14 21:12:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:26 | INFO     | app.routers.amenhotep:clear_chat_history:184 | Cleared chat history for user 1
2025-12-14 21:12:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/amenhotep/clear-history/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:26 | ERROR    | app.routers.amenhotep:get_chat_history:157 | Error retrieving chat history for user 1: 403:        
2025-12-14 21:12:26 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/amenhotep/chat-history/1 "HTTP/1.1 500 Internal Server Error"
2025-12-14 21:12:28 | ERROR    | app.firebase_config:send_push_notification:163 | Error sending push notification: send failure
2025-12-14 21:12:28 | ERROR    | app.firebase_config:unsubscribe_from_topic:136 | Error unsubscribing from topic: bad request
2025-12-14 21:12:28 | ERROR    | app.modules.media.processing:speech_to_text:36 | Speech recognition API error: api down
2025-12-14 21:12:28 | ERROR    | app.utils:wrapper:66 | Unhandled exception in utility function: failing
Traceback (most recent call last):
  File "C:\Users\kglou\Desktop\fastapi\app\modules\utils\security.py", line 62, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kglou\Desktop\fastapi\tests\test_session6_media_utils.py", line 157, in failing
    raise RuntimeError("boom")
RuntimeError: boom
2025-12-14 21:12:31 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 21:12:31 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 21:12:36 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 1}
2025-12-14 21:12:36 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_poll_post, Metadata: {'post_id': 2}
2025-12-14 21:12:39 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 2: _StubSocialEconomy.__init__() takes 1 positional argument but 2 were given
2025-12-14 21:12:39 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 2}
2025-12-14 21:12:43 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 21:12:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/ "HTTP/1.1 200 OK"
2025-12-14 21:12:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/unfollow/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:47 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/hashtags/follow/9999 "HTTP/1.1 404 Not Found"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 403 Forbidden"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/categories/ "HTTP/1.1 201 Created"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/categories/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/categories/1 "HTTP/1.1 204 No Content"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/vote-analytics "HTTP/1.1 200 OK"
2025-12-14 21:12:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 200 OK"
2025-12-14 21:12:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/statistics/ban-overview "HTTP/1.1 403 Forbidden"
2025-12-14 21:12:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 200 OK"
2025-12-14 21:12:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 200 OK"
2025-12-14 21:12:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/start "HTTP/1.1 403 Forbidden"
2025-12-14 21:12:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 201 Created"
2025-12-14 21:12:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/sessions/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/sessions/ "HTTP/1.1 404 Not Found"
2025-12-14 21:12:50 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/login/facebook "HTTP/1.1 200 OK"
2025-12-14 21:12:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 200 OK"
2025-12-14 21:12:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/auth/facebook "HTTP/1.1 401 Unauthorized"
2025-12-14 21:12:52 | INFO     | app.notifications:send_real_time_notification:54 | Real-time notification sent to user 2
2025-12-14 21:12:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 201 Created"
2025-12-14 21:12:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: PUT http://testserver/calls/1 "HTTP/1.1 200 OK"
2025-12-14 21:12:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/calls/active "HTTP/1.1 200 OK"
2025-12-14 21:12:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/calls/ "HTTP/1.1 401 Unauthorized"
2025-12-14 21:12:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: connect fail
2025-12-14 21:12:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:12:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/livez "HTTP/1.1 200 OK"
2025-12-14 21:12:57 | ERROR    | app.core.app_factory:readyz:172 | Readiness check failed (Database): db down
2025-12-14 21:12:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 503 Service Unavailable"
2025-12-14 21:12:58 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/readyz "HTTP/1.1 200 OK"
2025-12-14 21:13:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:13:04 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:05 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:05 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/screen-share/end "HTTP/1.1 404 Not Found"
2025-12-14 21:13:09 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:09 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:09 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:10 | ERROR    | app.services.posts.post_service:create_post:251 | Failed to calculate social score for post 1: name 'Badge' is not defined
2025-12-14 21:13:10 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_post, Metadata: {'post_id': 1}
2025-12-14 21:13:10 | INFO     | app.routers.post:share_on_twitter:105 | Twitter credentials not configured; skipping share.
2025-12-14 21:13:10 | INFO     | app.routers.post:share_on_facebook:137 | Facebook credentials not configured; skipping share.
2025-12-14 21:13:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:10 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:10 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/posts/ "HTTP/1.1 201 Created"
2025-12-14 21:13:12 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:13 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:13 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/reactions/ "HTTP/1.1 201 Created"
2025-12-14 21:13:16 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:16 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:16 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:17 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: create_comment, Metadata: {'comment_id': 1, 'post_id': 1}
2025-12-14 21:13:17 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 21:13:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:17 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:17 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/comments/ "HTTP/1.1 201 Created"
2025-12-14 21:13:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/profile/1/media "HTTP/1.1 200 OK"
2025-12-14 21:13:22 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:23 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:23 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/search/ "HTTP/1.1 200 OK"
2025-12-14 21:13:27 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/me/identities "HTTP/1.1 201 Created"
2025-12-14 21:13:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 21:13:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: DELETE http://testserver/users/me/identities/2 "HTTP/1.1 204 No Content"
2025-12-14 21:13:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/me/identities "HTTP/1.1 200 OK"
2025-12-14 21:13:33 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:34 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:34 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:36 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:38 | INFO     | app.utils:log_user_event:17 | User Event - User: 1, Event: login, Metadata: {'ip': 'testclient', 'user_agent': 'testclient'}
2025-12-14 21:13:38 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:38 | INFO     | app.notifications:send_login_notification:181 | Login notification sent to hello123@gmail.com
2025-12-14 21:13:38 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 200 OK"
2025-12-14 21:13:40 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:13:44 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:13:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:13:50 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:51 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:51 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:13:53 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:54 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:54 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/login "HTTP/1.1 403 Forbidden"
2025-12-14 21:13:57 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:13:57 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:13:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:13:57 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/1 "HTTP/1.1 200 OK"
2025-12-14 21:14:00 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:01 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:01 | INFO     | httpx:_send_single_request:1025 | HTTP Request: GET http://testserver/users/99999 "HTTP/1.1 404 Not Found"
2025-12-14 21:14:03 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:04 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:04 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 200 OK"
2025-12-14 21:14:07 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:07 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:07 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:08 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/verify "HTTP/1.1 400 Bad Request"
2025-12-14 21:14:08 | ERROR    | app.modules.utils.content:safe_analyze:213 | safe_analyze_failed: no model
2025-12-14 21:14:08 | ERROR    | app.modules.utils.content:antivirus_scan:225 | antivirus_scan_failed: scanner down
2025-12-14 21:14:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:14:14 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:14:15 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/amenhotep/ask "HTTP/1.1 200 OK"
2025-12-14 21:14:15 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 21:14:15 | WARNING  | app.utils:with_retry:85 | network_timeout
2025-12-14 21:14:15 | WARNING  | app.utils:parse_json_response:73 | non_json_response
2025-12-14 21:14:15 | ERROR    | app.utils:with_retry:89 | network_error
2025-12-14 21:14:15 | ERROR    | app.utils:safe_request:103 | network_request_failed
2025-12-14 21:14:16 | ERROR    | app.utils:is_ip_banned:46 | Error checking IP ban for 1.1.1.1: db down
2025-12-14 21:14:19 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:20 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:20 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:21 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:21 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:14:21 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 21:14:23 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:24 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:24 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:25 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:25 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:14:25 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 21:14:28 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:28 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:28 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:29 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:29 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:14:29 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 21:14:32 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:33 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:33 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 404 Not Found"
2025-12-14 21:14:35 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:36 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:36 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:37 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:37 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 401 Unauthorized"
2025-12-14 21:14:39 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:40 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:40 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:41 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:41 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 21:14:41 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:14:43 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:44 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:44 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:45 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:45 | WARNING  | app.core.error_handlers:validation_exception_handler:107 | Validation error on /vote/
2025-12-14 21:14:45 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 422 Unprocessable Entity"
2025-12-14 21:14:47 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:48 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:48 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:49 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:49 | INFO     | app.notifications:create_notification:974 | Notification created for user 1
2025-12-14 21:14:49 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
2025-12-14 21:14:52 | ERROR    | app.core.cache.redis_cache:init_cache:52 | Failed to initialize Redis cache: Error 11001 connecting to example:6379. getaddrinfo failed.
2025-12-14 21:14:52 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:52 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:53 | INFO     | app.notifications:send_email_notification:70 | Email sending skipped in test environment.
2025-12-14 21:14:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/users/ "HTTP/1.1 201 Created"
2025-12-14 21:14:53 | INFO     | app.notifications:create_notification:974 | Notification created for user 2
2025-12-14 21:14:53 | INFO     | httpx:_send_single_request:1025 | HTTP Request: POST http://testserver/vote/ "HTTP/1.1 201 Created"
